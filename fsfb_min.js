var hideAds = hideAds ?? true,
    improvedShop = improvedShop ?? true,
    extraBotPacks = extraBotPacks ?? true,
    rightClickCopyChat = rightClickCopyChat ?? true,
    rightClickCopyInfo = rightClickCopyInfo ?? true,
    showRemainingAbilityTime = showRemainingAbilityTime ?? true,
    unlockFreeSkins = unlockFreeSkins ?? true,
    hoverShowSkinID = hoverShowSkinID ?? true,
    coinXPstats = coinXPstats ?? true,
    saveStatsBoxPosition = saveStatsBoxPosition ?? true,
    showXPdecimals = showXPdecimals ?? true,
    whiteBorder4BlackCells = whiteBorder4BlackCells ?? true,
    sortWearablesByOwned = sortWearablesByOwned ?? true,
    linesplitClosestSide = linesplitClosestSide ?? false,
    inventorySingleRow = inventorySingleRow ?? false,
    friendDeclineAll = friendDeclineAll ?? true,
    rainbowMapBorder = rainbowMapBorder ?? false,
    rainbowBorderSpeed = rainbowBorderSpeed ?? 5,
    extraChatCommands = extraChatCommands ?? true,
    chatPrefix = chatPrefix ?? '/f ',
    bypassConfirmChatRules = bypassConfirmChatRules ?? true,
    publicSkinSearch = publicSkinSearch ?? true,
    extraOneFastSplitDelay = extraOneFastSplitDelay ?? false,
    notifyNewUpdates = notifyNewUpdates ?? true;

const version="1.3.03";let settings={hotkeys:[{title:"Shoot 7 Ejected",id:"fsfb-key7Feed",key:0,active:!1},{title:"Linesplit Lock",id:"fsfb-linesplit",key:0,active:!1},{title:"Macro Split Bots",id:"fsfb-MacroSplitBots",key:0,active:!1},{title:"Hide UI",id:"fsfb-hideUI",key:0,active:!1},{title:"Toggle Cursor",id:"fsfb-togglecursor",key:0,active:!1}],fastsplit_hotkeys:[{title:"Fast Onesplit",id:"fsfb-fsOne",keyName:"",keyCode:0,active:!1},{title:"Fast Doublesplit",id:"fsfb-fsTwo",keyName:"",keyCode:0,active:!1},{title:"1st Delay (ms)",id:"fsfb-firstdelay",val:60,active:!1},{title:"2nd Delay (ms)",id:"fsfb-secdelay",val:60,active:!1}],checkboxes:[{title:"Chat Copy/Cut/Paste",id:"fsfb-copycutpaste",active:!1},{title:"Anti-AFK",id:"fsfb-antiAFK",active:!1},{title:"Anti-Invis",id:"fsfb-anticloak",active:!1},{title:"Linesplit Toggle",id:"fsfb-linetoggle",active:!1},{title:"Change Page Title",id:"fsfb-changetitle",active:!1},{title:"Hide Shouts",id:"fsfb-hideshouts",active:!1},{title:"Hold To Spam Rec/Spd",id:"fsfb-recospeed",active:!1},{title:"Show Portal Mass",id:"fsfb-portalmass",active:!1},{title:"Pow Spawns Overlay",id:"fsfb-powsoverlay",active:!1},{title:"Quick Buy",id:"fsfb-qBuy",active:!1}],slowFeed:[{title:"Toggle Feed",id:"fsfb-slowFeed",key:0,active:!1},{title:"Feed Speed",id:"fsfb-slowfeedtimer",val:100,active:!1}],quickSettings:[{id:"fsfb-quick-hotkey1",id1:"fsfb-quick-select1",set:"cSkins",key:0,active:!1},{id:"fsfb-quick-hotkey2",id1:"fsfb-quick-select2",set:"cWearables",key:0,active:!1},{id:"fsfb-quick-hotkey3",id1:"fsfb-quick-select3",set:"cFood",key:0,active:!1},{id:"fsfb-quick-hotkey4",id1:"fsfb-quick-select4",set:"cBubbleCells",key:0,active:!1},{id:"fsfb-quick-hotkey5",id1:"fsfb-quick-select5",set:"cNames",key:0,active:!1}],uiScaling:[{title:"Inventory Size",id:"fsfb-invSize",level:5},{title:"Statsbox Size",id:"fsfb-statsSize",level:5}],theme:[{title:"Food Color",id:"fsfb-check-foodcolor",id1:"fsfb-color-foodcolor",color:"#FFFFFF",active:!1},{title:"Virus Color",id:"fsfb-check-viruscolor",id1:"fsfb-color-viruscolor",color:"#00ff00",active:!1},{title:"Virus Stroke",id:"fsfb-check-virusstroke",id1:"fsfb-color-virusstroke",color:"#00ff00",active:!1},{title:"Mothercell Color",id:"fsfb-check-msColor",id1:"fsfb-color-msColor",color:"#cd5564",active:!1},{title:"Mothercell Stroke",id:"fsfb-check-msStroke",id1:"fsfb-color-msStroke",color:"#cd5564",active:!1},{title:"Border Color",id:"fsfb-check-border",id1:"fsfb-color-border",color:"#CC3030",active:!1}],theme_boxes:[{title:"Fancy Bubble Cells",id:"fsfb-bublecell",active:!1},{title:"Show Player Mass",id:"fsfb-showmass",active:!1},{title:"Only My Skin",id:"fsfb-myskins",active:!1},{title:"Only Party Skins",id:"fsfb-partyskins",active:!1},{title:"Only My Nick",id:"fsfb-mynick",active:!1},{title:"Only Party Nicks",id:"fsfb-partynicks",active:!1},{title:"Spiked Cells",id:"fsfb-spikedcells",active:!1},{title:"Reverse Cell Order",id:"fsfb-revcell",active:!1},{title:"Render Portals Top",id:"fsfb-portalstop",active:!1}],chat_translate:[{title:"Translate Chat",id:"fsfb-tranchat",active:!1},{title:"Translate Server",id:"fsfb-tranplyr",active:!1},{title:"Show Original",id:"fsfb-tranorig",active:!1},{title:"Translate From:",id:"fsfb-tran1",set:"auto"},{title:"Translate To:",id:"fsfb-tran2",set:"auto"}],export_import:[{title:"Game Settings",id:"fsfb-game-settings",active:!1},{title:"Game Controls",id:"fsfb-game-controls",active:!1},{title:"Custom Background",id:"fsfb-custom-bg",active:!1},{title:"Script Settings",id:"fsfb-script-settings",active:!1},{title:"Script Theme",id:"fsfb-theme-settings",active:!1}]},misc_settings={abil:{},bots:{},statsPos:null,statsSettings:{xp:{lvlcomp:!0,rem:!0,projhr:!0,lasthr:!0,lastmin:!0,lastsec:!0,mean:!0,median:!0,sd:!0,sesh:!0,seshlength:!0,lifetime:!0},coins:{rem:!0,projhr:!0,lasthr:!0,lastmin:!0,mean:!0,median:!0,sd:!0,sesh:!0,seshlength:!0}}};const txtMappings={"":0,BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRTSCN:44,INS:45,DEL:46,WIN:91,CONTEXTMENU:93,"NUM 0":96,"NUM 1":97,"NUM 2":98,"NUM 3":99,"NUM 4":100,"NUM 5":101,"NUM 6":102,"NUM 7":103,"NUM 8":104,"NUM 9":105,"NUM *":106,"NUM +":107,"NUM -":109,"NUM .":110,"NUM /":111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUMLOCK:144,SCROLLLOCK:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},keyCodeMappings={0:"",8:"BACKSPACE",9:"TAB",12:"CLEAR",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSE",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGEUP",34:"PAGEDOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",44:"PRTSCN",45:"INS",46:"DEL",91:"WIN",92:"WIN",93:"CONTEXTMENU",96:"NUM 0",97:"NUM 1",98:"NUM 2",99:"NUM 3",100:"NUM 4",101:"NUM 5",102:"NUM 6",103:"NUM 7",104:"NUM 8",105:"NUM 9",106:"NUM *",107:"NUM +",109:"NUM -",110:"NUM .",111:"NUM /",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},set=(e,t)=>"function"!=typeof GM_setValue?localStorage.setItem(e,JSON.stringify(t)):GM_setValue(e,t),get=(e,t)=>"function"!=typeof GM_getValue?null!=localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):set(e,t):GM_getValue(e,t);"undefined"==typeof unsafeWindow&&(unsafeWindow=window);const saveSettings=()=>set("fsfb-scripts",settings),getSettings=()=>{let e=get("fsfb-scripts",settings);for(let t in e)for(let s in e[t])for(let i in settings)for(let n in settings[i])e[t][s].id==settings[i][n].id&&(settings[i][n]=e[t][s])},getMiscSettings=()=>{let e=get("fsfb-misc",misc_settings);misc_settings={...misc_settings,...e}};getSettings(),getMiscSettings();const getKey=e=>{const t=(0,unsafeWindow.jQuery)("#"+e).text();return null==txtMappings[t]?t.charCodeAt(0):txtMappings[t]},getName=e=>null==keyCodeMappings[e]?String.fromCharCode(e):keyCodeMappings[e],levelSum=e=>e*(e-1)/2,range=e=>Math.max(...e)-Math.min(...e),sigma=e=>e.reduce(((e,t)=>e+t)),mean=e=>sigma(e)/e.length,variance=e=>e.reduce(((t,s)=>t+(s-mean(e))**2),0)/e.length,standardDeviation=e=>Math.sqrt(variance(e)),ascending=e=>e.sort(((e,t)=>e-t)),getIQR=e=>quartile(e,.75)-quartile(e,.25),round=(e,t)=>Math.round(e*+("1e"+(t??0)))/+("1e"+(t??0)),median=e=>{const t=~~(e.length/2),s=ascending(e);return e.length%2!=0?s[t]:(s[t-1]+s[t])/2},getProperty=(e,t)=>{let s=[];for(let i of e)s.push(i[t]);return s},quartile=(e,t)=>{const s=ascending(e),i=(s.length-1)*t,n=~~i,a=i-n;return null!==s[n+1]?s[n]+a*(s[n+1]-s[n]):s[n]},checkOutliers=(e,t)=>{let s=[],i=[];const n=getIQR(e),a=quartile(e,.25),o=quartile(e,.75);for(let t of e)t<a-1.5*n||t>o+1.5*n?i.push(t):s.push(t);return t?i:s},msToTime=e=>{let t=~~(e/1e3%60),s=~~(e/6e4%60),i=~~(e/36e5);return(i<10?"0"+i:i)+":"+(s<10?"0"+s:s)+":"+(t<10?"0"+t:t)},changeTitle=e=>{document.title!=e&&(document.title=e)};if(settings.checkboxes[4].active||"Agma.io - A free multiplayer MMO game"!=document.title||changeTitle("Agma.io"),unlockFreeSkins){const e=["",56,1657,2281,2282,2297,2331,2529,2626,2683,2816,2832];for(let t of e)localStorage.setItem("ytSkin"+t,"1");localStorage.setItem("fbSkin","1")}const sanitize=e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e.replace(/[&<>"'/]/gi,(e=>t[e]))};["paste","copy","cut"].forEach((e=>{unsafeWindow.addEventListener(e,(e=>{const t=unsafeWindow.jQuery;(null==t||t("#fsfb-copycutpaste").is(":checked"))&&e.stopImmediatePropagation()}),!0)}));const afterLoaded=()=>{const e=unsafeWindow.jQuery,t=unsafeWindow.swal;if(null==e||e("#friendResizer").length<1||e("#megaholder").length<1||e("#preroll").length<1)return;bypassConfirmChatRules&&localStorage.setItem("crc","true"),e(".setting-tablink").css({width:"30%"}),e("#settingTab2").after('<button id="settingTab4" class="setting-tablink" onclick="openSettingPage(4);" style="width: 9%; font-size: calc(0.3vw + 7.5px);"><div class="fa fa-cogs fa-lg" style="font-size: 1.25em; color: lightgray;"></div></button>'),e("#settingPage3").after('<div id="settingPage4" class="setting-tabcontent"><div class="row"><div class="col-md-10 col-md-offset-1 stng" id="fsfb-settings-main" style="padding:0"><div id="fsfb-settings-left"><section id="fsfb-sect-checkbox" class="padbot10 fsfb-sect-ch"></section><section id="fsfb-sect-theme" class="fsfb-sect-ch padbot10"></section><section id="fsfb-sect-translate" style="padding-top: 20px;" class="fsfb-sect-ch"></section></div><div id="fsfb-settings-right"><section id="fsfb-sect-hotkeys" class="padbot10"></section><section id="fsfb-sect-slowfeed" class="padbot10"></section><section id="fsfb-sect-fastsplit" class="padbot10"></section><section id="fsfb-sect-quickSettings" class="padbot10"></section><section id="fsfb-sect-uiScale" class="padbot10"></section><section id="fsfb-sect-imexport" class="fsfb-sect-ch padbot10"></section><section id="fsfb-sect-translate2"></section></div></div></div></div>'),e(".container").eq(0).css("max-width","1250px"),e("#fsfb-sect-checkbox").append('<p class="hotkey-paragraph">Script Features</p>');for(let t of settings.checkboxes)e("#fsfb-sect-checkbox").append(`<label><input id="${t.id}" type="checkbox"><p> ${t.title} </p></label>`),e("#"+t.id).change((function(){M(this.id,e(this).is(":checked"))}));e("#fsfb-sect-imexport").append('<p class="hotkey-paragraph">Import/Export</p>');for(let t of settings.export_import)e("#fsfb-sect-imexport").append(`<label><input id="${t.id}" type="checkbox"><p> ${t.title} </p></label>`),e("#"+t.id).change((function(){M(this.id,e(this).is(":checked"))}));e("#fsfb-sect-imexport").append('<div id="fsfb-ximport-cont"><div id="fsfb-export-btn" class="fsfb-eximport">Export</div><div id="fsfb-import-btn" class="fsfb-eximport">Import</div></div>'),e("#fsfb-sect-theme").append('<p class="hotkey-paragraph">Game Theme</p');for(let t of settings.theme)e("#fsfb-sect-theme").append(`<label><input id="${t.id}" type="checkbox"><p> ${t.title}</p><div style="background-color: black;"><input id="${t.id1}"type="color"></div></label>`),e("#"+t.id).change((function(){M(this.id,e(this).is(":checked"))})),e("#"+t.id1).change((function(){M(this.id,this.value),e(this).parent().css("background-color",this.value)}));for(let t of settings.theme_boxes)e("#fsfb-sect-theme").append(`<label><input id="${t.id}" type="checkbox"><p> ${t.title} </p></label>`),e("#"+t.id).change((function(t){M(this.id,e(this).is(":checked"),t)}));e("#fsfb-sect-translate").append('<p class="hotkey-paragraph">Chat Translate</p');for(let t of settings.chat_translate)"set"in t?e("#fsfb-sect-translate2").append(`<p style="margin-top: 2px;">${t.title}</p><select id="${t.id}" class="fsfb-changelang"><option value="auto">Detect language</option><option value="af">Afrikaans</option><option value="sq">Albanian</option><option value="ar">Arabic</option><option value="hy">Armenian</option><option value="az">Aerbaijani</option><option value="eu">Basque</option><option value="be">Belarusian</option><option value="bn">Bengali</option><option value="bg">Bulgarian</option><option value="ca">Catalan</option><option value="zh-CN">Chinese (simpl)</option><option value="zh-TW">Chinese (trad)</option><option value="hr">Croatian</option><option value="cs">Czech</option><option value="da">Danish</option><option value="nl">Dutch</option><option value="en">English</option><option value="et">Estonian</option><option value="tl">Filipino</option><option value="fi">Finnish</option><option value="fr">French</option><option value="gl">Galician</option><option value="ka">Georgian</option><option value="de">German</option><option value="el">Greek</option><option value="ht">Haitian Creole</option><option value="iw">Hebrew</option><option value="hi">Hindi</option><option value="hu">Hungarian</option><option value="is">Icelandic</option><option value="id">Indonesian</option><option value="ga">Irish</option><option value="it">Italian</option><option value="ja">Japanese</option><option value="ko">Korean</option><option value="lv">Latvian</option><option value="lt">Lithuanian</option><option value="mk">Macedonian</option><option value="ms">Malay</option><option value="mt">Maltese</option><option value="no">Norwegian</option><option value="fa">Persian</option><option value="pl">Polish</option><option value="pt">Portuguese</option><option value="ro">Romanian</option><option value="ru">Russian</option><option value="sr">Serbian</option><option value="sk">Slovak</option><option value="sl">Slovenian</option><option value="es">Spanish</option><option value="sw">Swahili</option><option value="sv">Swedish</option><option value="th">Thai</option><option value="tr">Turkish</option><option value="uk">Ukrainian</option><option value="ur">Urdu</option><option value="vi">Vietnamese</option><option value="cy">Welsh</option><option value="yi">Yiddish</option></select>`):(e("#fsfb-sect-translate").append(`<label><input id="${t.id}" type="checkbox"><p> ${t.title} </p></label>`),e("#"+t.id).change((function(t){M(this.id,e(this).is(":checked"),t)})));e(".fsfb-changelang").on("change",(function(){for(let e=0;e<settings.chat_translate.length;e++)settings.chat_translate[e].id==this.id&&(settings.chat_translate[e].set=this.value);saveSettings()})),e("#fsfb-sect-hotkeys").append('<p class="hotkey-paragraph">Script Hotkeys</p>');const s=(t,s)=>{t.target.id!=s.id||s.active?(s.active=!1,e("#"+s.id).removeClass("selected")):(e("#"+s.id).addClass("selected"),s.active=!0,_=!0)},i=(t,s)=>{s.active&&(s.key=t.keyCode,e("#"+s.id).text(getName(t.keyCode)),e("#"+s.id).removeClass("selected"),s.active=!1,saveSettings(),t.preventDefault())},n=(t,s)=>{s.active&&(s.key=t.keyCode,s.keyName=t.key,e("#"+s.id).text(getName(t.keyCode)),e("#"+s.id).removeClass("selected"),s.active=!1,saveSettings(),t.preventDefault())},a=t=>{if(!Fe||!t?.originalEvent?.isTrusted||"purchase-btn confirmation"==e(t.target).attr("class")||"megaphone-btn"==e(t.target).attr("class"))return;let s;switch(t.target.id){case"invWall":s=33;break;case"invAntiFreeze":s=35;break;case"invAntiRecombine":s=34;break;case"invShield":s=38;break;case"invFrozenVirus":s=36;break;case"invRecombine":s=1;break;case"invSpeed":s=2;break;case"invGrowth":s=6;break;case"invSpawnVirus":s=7;break;case"invSpawnMothercell":s=8;break;case"invSpawnPortal":s=9;break;case"invSpawnGoldOre":s=10;break;case"invFreeze":s=5;break;case"inv360Shot":s=30;break;case"fsfb-minionNuker":s=39;break;case"fsfb-quickMega":s=14;break;case"fsfb-quickbuy-img":return void(Fe=!0);default:return Fe=!1,e(".inventory-box").removeClass("fsfb-shown").find("p").show(),e("#fsfb-quickbuy").removeClass("activatedInv"),void Z("Quick buy deactivated.","red")}e(".confirm").attr("disabled","true");setTimeout((()=>{e(".confirm")[0].addEventListener("click",(async t=>{t.isTrusted&&(e(".sweet-alert, .sweet-overlay").addClass("fsfb-hidden"),setTimeout((async()=>{var t;await(t=()=>!e(".sweet-alert").hasClass("visible"),new Promise((s=>{let i=setInterval((()=>{e(".confirm")[0].click(),t()&&(clearInterval(i),s())}),25);setTimeout((()=>{clearInterval(i),s()}),1e4)}))),e(".sweet-alert").hasClass("visible")||(await c(100),e(".sweet-alert, .sweet-overlay").removeClass("fsfb-hidden"))}),1e3))}))}),500),setTimeout((()=>e(".confirm").removeAttr("disabled")),600),14==s?e(".megaphone-btn")[0].click():e('.purchase-btn.confirmation[item="'+s+'"]')[0].click(),e(".inventory-box").removeClass("fsfb-shown").find("p").show(),e("#fsfb-quickbuy").removeClass("activatedInv"),Fe=!1},o=settings.slowFeed[0];for(let t of settings.hotkeys)e("#fsfb-sect-hotkeys").append(`<br><p>${t.title}</p><div id="${t.id}" class="fsfb-hotkey"></div>`),e("#"+t.id).on("contextmenu",(s=>{e("#"+t.id).text(""),t.key=0,saveSettings(),s.preventDefault()}));const r=e("input, textarea"),l=()=>r.is(":focus"),c=e=>new Promise((t=>setTimeout(t,e))),d=e=>{unsafeWindow.onkeydown({keyCode:e}),unsafeWindow.onkeyup({keyCode:e})};let p;const f=async e=>{p?(-1==[39,37,2,4,6].indexOf(He)&&e&&!extraOneFastSplitDelay||await c(settings.fastsplit_hotkeys[2].val),d(getKey("keyFreezeSelf")),await c(settings.fastsplit_hotkeys[3].val),d(getKey("keyFreezeSelf"))):p=!0};setTimeout(f,120);let h,u=!1;const g=()=>{if(null!=unsafeWindow.onblur){const t=unsafeWindow.onblur;unsafeWindow.onblur=function(){return S=!1,C=!1,w=!1,e("#fsfb-linetoggle").is(":checked")||(e("#linesplit-markers div").hide(),k=!1),t.apply(this,arguments)},h=unsafeWindow.onblur}else setTimeout(g,400)};g();let y=Date.now();const m=()=>{if(null!=unsafeWindow.onkeyup){const e=unsafeWindow.onkeyup;unsafeWindow.onkeyup=function(){if(arguments[0]?.keyCode==getKey("keyFreezeSelf")&&(y=Date.now()),arguments[0]?.keyCode!=getKey("keyFixedMouse")||"chtbox"!=arguments[0]?.target?.id||!u)return e.apply(this,arguments)}}else setTimeout(m,400)};m();const b=()=>{u=!u,unsafeWindow.onblur=u?function(){unsafeWindow.onkeyup({keyCode:getKey("keyMacroSplit")}),unsafeWindow.onkeyup({keyCode:getKey("keyMacroFeed")}),unsafeWindow.onkeyup({keyCode:getKey("keyMultiFeed")}),S=!1,C=!1,w=!1,e("#fsfb-linetoggle").is(":checked")||(e("#linesplit-markers div").hide(),k=!1)}:h,u?unsafeWindow.onkeydown({keyCode:67}):unsafeWindow.onkeyup({keyCode:67})};unsafeWindow.globalCursorLock=b,Object.defineProperty(KeyboardEvent.prototype,"keyCode",{get:function(){switch(this.key.toLowerCase()){case settings.fastsplit_hotkeys[0].keyName.toLowerCase():return getKey("keySplit");case settings.fastsplit_hotkeys[1].keyName.toLowerCase():return getKey("keyDoubleSplit");default:return this.which}}});let v=!1,k=!1,x=!1,w=!1,S=!1,C=!1;let $=!1,z=!1;const M=(t,s,i)=>{for(let e of settings.uiScaling)e.id==t&&(e.level=s);for(let e of settings.checkboxes)e.id==t&&(e.active=s);for(let e of settings.export_import)e.id==t&&(e.active=s);for(let e of settings.theme_boxes)e.id==t&&(e.active=s);for(let n of settings.chat_translate)if(n.id==t){if("fsfb-tranchat"==t&&"function"!=typeof GM_xmlhttpRequest&&i?.originalEvent?.isTrusted)return Z("Fsfb script is unable to access the GM_xmlhttpRequest function, chat translate won't work without this. This is often caused by not using the tampermonkey extension (or not the latest version).","red",1e4),void e("#"+t).prop("checked",!1);z=!0,n.active=s}for(let e of settings.theme)e.id==t&&(e.active=s),e.id1==t&&(e.color=s);Ue=e("#fsfb-sect-theme>label>input, #fsfb-powsoverlay, #fsfb-anticloak").is(":checked"),"fsfb-hideshouts"==t&&(s?e("#megaholder").addClass("hideMegaphone"):e("#megaholder").removeClass("hideMegaphone")),"fsfb-qBuy"==t&&(s?e("#fsfb-quickbuy").css("display","flex"):e("#fsfb-quickbuy").hide()),"fsfb-bublecell"==t&&!e("#cBubbleCells").is(":checked")&&s&&i?.originalEvent?.isTrusted&&e("#cBubbleCells").unbind().click(),"fsfb-bublecell"==t&&e("#cBubbleCells").is(":checked")&&!s&&i?.originalEvent?.isTrusted&&e("#cBubbleCells").unbind().click(),"fsfb-showmass"==t&&!e("#cMass").is(":checked")&&s&&i?.originalEvent?.isTrusted&&e("#cMass").unbind().click(),"fsfb-showmass"==t&&e("#cMass").is(":checked")&&!s&&i?.originalEvent?.isTrusted&&e("#cMass").unbind().click(),"fsfb-myskins"!=t&&"fsfb-partyskins"!=t||e("#cSkins").is(":checked")||!s||e("#cSkins").unbind().click(),"fsfb-mynick"!=t&&"fsfb-partynicks"!=t||e("#cNames").is(":checked")||!s||e("#cNames").unbind().click(),"fsfb-myskins"==t&&s&&e("#fsfb-partyskins").prop("checked",!1).trigger("change"),"fsfb-partyskins"==t&&s&&e("#fsfb-myskins").prop("checked",!1).trigger("change"),"fsfb-mynick"==t&&s&&e("#fsfb-partynicks").prop("checked",!1).trigger("change"),"fsfb-partynicks"==t&&s&&e("#fsfb-mynick").prop("checked",!1).trigger("change"),"fsfb-powsoverlay"==t&&(!s&&$&&Z("To hide powerup spawns, you need to respawn or switch servers.","red"),$=!0),"fsfb-powsoverlay"==t&&(Ee=!0);let n={1:50,2:70,3:80,4:90,5:100,6:110,7:125,8:150,9:200};"fsfb-invSize"==t&&e("#inventory").css("zoom",(n[+s]??100)+"%"),"fsfb-statsSize"==t&&e("#stats-container").css("zoom",(n[+s]??100)+"%"),saveSettings()};e("#fsfb-sect-slowfeed").append('<p class="hotkey-paragraph">Slow-Feed</p>'),e("#fsfb-sect-slowfeed").append(`<br><p>${o.title}</p><div id="${o.id}" class="fsfb-hotkey"></div>`),e("#fsfb-sect-slowfeed").append(`<br><p>${settings.slowFeed[1].title}</p><input id="${settings.slowFeed[1].id}" class="fsfb-hotkey" onkeypress="return onlyNumberKey(event)" maxlength="3"></input>`),e("#"+o.id).on("contextmenu",(t=>{e("#"+o.id).text(""),o.key=0,saveSettings(),t.preventDefault()})),document.getElementById(settings.slowFeed[1].id).addEventListener("keypress",(function(t){setTimeout((()=>{settings.slowFeed[1].val=+e("#"+settings.slowFeed[1].id).val(),""==e("#"+settings.slowFeed[1].id).val()&&(settings.slowFeed[1].val=0),saveSettings()}),5)})),e("#fsfb-sect-fastsplit").append('<p class="hotkey-paragraph">Fast-Split</p>');for(let t=0;t<settings.fastsplit_hotkeys.length;t++){let s=settings.fastsplit_hotkeys[t];e("#fsfb-sect-fastsplit").append(null==s.val?`<br><p>${s.title}</p><div id="${s.id}" class="fsfb-hotkey"></div>`:`<br><p>${s.title}</p><input id="${s.id}" class="fsfb-hotkey" onkeypress="return onlyNumberKey(event)" maxlength="3"></input>`),null==s.val?e("#"+s.id).on("contextmenu",(t=>{e("#"+s.id).text(""),s.key=0,s.keyName="",saveSettings(),t.preventDefault()})):document.getElementById(s.id).addEventListener("keypress",(function(i){setTimeout((()=>{settings.fastsplit_hotkeys[t].val=+e("#"+s.id).val(),""==e("#"+s.id).val()&&(settings.fastsplit_hotkeys[t].val=0),saveSettings()}),5)}))}e("#fsfb-sect-quickSettings").append('<p class="hotkey-paragraph">Quick Settings</p>');for(let t of settings.quickSettings)e("#fsfb-sect-quickSettings").append(`<select id="${t.id1}" class="fsfb-quickchange"><option value="cDark">Dark Theme</option><option value="cFancyGrid">Fancy Grid</option><option value="cSectionGrid">Section Grid</option><option value="cGrid">Gridlines</option><option value="cSkins">Skins</option><option value="cWearables">Wearables</option><option value="cNames">Show Names</option><option value="cMinionNames">Minion Names</option><option value="cLargeNames">Large Names</option><option value="cNameOutlines">Name Outline</option><option value="cMass">Show Mass</option><option value="cFood">Show Food</option><option value="cCellAnimations">Cell Anim</option><option value="cSkinAnimations">Skin Anim</option><option value="cMapBorder">Map Border</option><option value="cCustomBack">Custom BG</option><option value="aCustomBack">Sounds</option><option value="cZoom">Infinite Zoom</option><option value="cFixedZoom">Fixed Zoom</option><option value="cSlowMotion">Slow-Motion</option><option value="cMinionUi">Minion Panel</option><option value="cLeaderboard">Leaderboard</option><option value="cChat">Chat</option><option value="cMinimap">Minimap</option><option value="cFPS">FPS/Ping</option><option value="cColors">Cell Colors</option><option value="cCellBorders">Cell Borders</option><option value="cCellSpikes">Cell Spikes</option><option value="cClassicViruses">Classic Virus</option><option value="cPolygonShapes">Polygon Cells</option><option value="cLineShapes">Line Cells</option><option value="cBubbleCells">Bubble Cells</option><option value="cVisibilityStatus">Prof Visiblity</option><option value="cAllowPartyInvite">Party Inv</option><option value="cAllowPartyAnimations">Party Anim</option><option value="cIconDRank">Dono Icon</option><option value="cGoldCrownChat">Gold Icon</option><option value="fsfb-revcell">Rev Order</option><option value="fsfb-portalstop">Portals Top</option></select><div id="${t.id}" class="fsfb-hotkey"></div>`),e("#"+t.id).on("contextmenu",(s=>{e("#"+t.id).text(""),t.key=0,saveSettings(),s.preventDefault()}));e(".fsfb-quickchange").on("change",(function(){settings.quickSettings[+this.id.replace("fsfb-quick-select","")-1].set=this.value,saveSettings()})),e("#fsfb-sect-uiScale").append('<p class="hotkey-paragraph">UI Scaling</p>');for(let t of settings.uiScaling)e("#fsfb-sect-uiScale").append(`<div class="fsfb-slider"><p>${t.title}</p><input id="${t.id}" class="fsfb-slider" type="range" min="1" max="9" value="5"></input></div>`),e("#"+t.id).change((function(){M(this.id,e(this).val())}));let P,F,T={},_=!1;e(document).on("click",(e=>{for(let t=0;t<settings.hotkeys.length;t++)s(e,settings.hotkeys[t]);for(let t=0;t<settings.fastsplit_hotkeys.length;t++)null==settings.fastsplit_hotkeys[t].val&&s(e,settings.fastsplit_hotkeys[t]);for(let t=0;t<settings.quickSettings.length;t++)s(e,settings.quickSettings[t]);s(e,settings.slowFeed[0]),a(e)})).on("mousemove",(e=>{null!=e.originalEvent&&e.originalEvent.isTrusted&&(({clientX:P,clientY:F}=e),k&&j())})).on("keydown",(t=>{for(let e=0;e<settings.hotkeys.length;e++)i(t,settings.hotkeys[e]);for(let e=0;e<settings.fastsplit_hotkeys.length;e++)n(t,settings.fastsplit_hotkeys[e]);for(let e=0;e<settings.quickSettings.length;e++)i(t,settings.quickSettings[e]);i(t,settings.slowFeed[0]),t.keyCode in T||(T[t.keyCode]=!0,(t=>{const s=t.which?t.which:t.keyCode;if(e("textarea").is(":focus")&&t.stopImmediatePropagation(),!l()&&!_&&null!=t.key&&null!=t.keyCode){if(27==s&&Fe&&(Fe=!1,e("#fsfb-quickbuy").removeClass("activatedInv"),Z("Quick buy deactivated.","red"),e(".inventory-box").removeClass("fsfb-shown").find("p").show(),t.preventDefault(),t.stopImmediatePropagation()),s==settings.hotkeys[0].key){let e=1,s=setInterval((()=>{d(getKey("keyMacroFeed")),++e>7&&clearInterval(s)}),85);t.preventDefault()}if(s!=settings.hotkeys[1].key||e("#fsfb-linetoggle").is(":checked")||(k=!0,j(),e("#linesplit-markers div").show(),t.preventDefault()),s==settings.hotkeys[1].key&&e("#fsfb-linetoggle").is(":checked")&&(k=!k,k?(e("#linesplit-markers div").show(),j()):(e("#linesplit-markers div").hide(),e("#canvas").trigger(e.Event("mousemove",{clientX:P,clientY:F}))),t.preventDefault()),s==settings.hotkeys[2].key){w=!0;const e=()=>{w&&(d(getKey("keySplitBots")),setTimeout(e,50))};e(),t.preventDefault()}if(s==settings.hotkeys[3].key&&(x=!x,wt("hideUI-css",x?".hideUI{ display: none !important;}":""),t.preventDefault()),s==settings.hotkeys[4].key&&(b(),t.preventDefault()),s==getKey("keyFixedMouse")&&(u=!1,unsafeWindow.onblur=h),t.key.toLowerCase()==settings.fastsplit_hotkeys[0]?.keyName?.toLowerCase()&&0!=t.keyCode&&f(!0),t.key.toLowerCase()==settings.fastsplit_hotkeys[1]?.keyName?.toLowerCase()&&0!=t.keyCode&&f(!1),s==settings.slowFeed[0].key){v=!v;const e=()=>{v&&(d(getKey("keyMacroFeed")),setTimeout(e,settings.slowFeed[1].val))};e(),t.preventDefault()}if(s==settings.quickSettings[0].key){let s=e("#"+settings.quickSettings[0].set);e("#fsfb-settings-main")[0].contains(s[0])?s.prop("checked",!s.prop("checked")).trigger("change"):s.unbind().click(),t.preventDefault()}if(s==settings.quickSettings[1].key){let s=e("#"+settings.quickSettings[1].set);e("#fsfb-settings-main")[0].contains(s[0])?s.prop("checked",!s.prop("checked")).trigger("change"):s.unbind().click(),t.preventDefault()}if(s==settings.quickSettings[2].key){let s=e("#"+settings.quickSettings[2].set);e("#fsfb-settings-main")[0].contains(s[0])?s.prop("checked",!s.prop("checked")).trigger("change"):s.unbind().click(),t.preventDefault()}if(s==settings.quickSettings[3].key){let s=e("#"+settings.quickSettings[3].set);e("#fsfb-settings-main")[0].contains(s[0])?s.prop("checked",!s.prop("checked")).trigger("change"):s.unbind().click(),t.preventDefault()}if(s==settings.quickSettings[4].key){let s=e("#"+settings.quickSettings[3].set);e("#fsfb-settings-main")[0].contains(s[0])?s.prop("checked",!s.prop("checked")).trigger("change"):s.unbind().click(),t.preventDefault()}if(e("#fsfb-recospeed").is(":checked")&&s==getKey("keyRecombine")){S=!0;const e=()=>{S&&(d(getKey("keyRecombine")),setTimeout(e,10))};e(),t.preventDefault()}if(e("#fsfb-recospeed").is(":checked")&&s==getKey("keySpeed")){C=!0;const e=()=>{C&&(d(getKey("keySpeed")),setTimeout(e,10))};e(),t.preventDefault()}}})(t)),_=!1})).on("keyup",(t=>{var s;null!=t.originalEvent&&t.originalEvent.isTrusted&&(delete T[t.keyCode],s=t.keyCode,l()||_||(s==settings.hotkeys[2].key&&(w=!1),s!=settings.hotkeys[1].key||e("#fsfb-linetoggle").is(":checked")||(k=!1,e("#canvas").trigger(e.Event("mousemove",{clientX:P,clientY:F})),e("#linesplit-markers div").hide()),s==getKey("keyRecombine")&&(S=!1),s==getKey("keySpeed")&&(C=!1)),t.keyCode==getKey("keyFixedMouse")&&u&&(t.stopImmediatePropagation(),t.preventDefault()))}));const I=(e,t)=>{let s,i=0;if(0==e.length)return i;for(let n=0;n<e.length;n++)i=(i<<t)-i+(s=e.charCodeAt(n)),i|=0;return i},A=(e,t)=>Math.random()*(t-e)+e;if(extraChatCommands){const t=e("#chtbox");t.on("keydown",(s=>{if(13!=s.keyCode)return;let i,n,a="",o=t.val().match(new RegExp(`(?<=((^|(^/party +)|(^/pm +\\S+ ))${chatPrefix}))\\S+(\\s+\\S+)*(?=($|\\s+))`,"gmi"));if(null==o)return;[n,...i]=o[0].replace(/\s+/g," ").split(" ");const r=t.val().replace(new RegExp(`(?<=((^|(^/party +)|(^/pm +\\S+ ))))${chatPrefix}${o[0]}(?=($|\\s+))`,"gmi"),"");switch(Me(),ze(),n.toLowerCase()){case"help":e("#fsfb-extra-info")[0].click(),setTimeout((()=>e(".fsfb-modal-body").scrollTop(1850)),200),a="";break;case"bots":case"bot":case"min":case"mins":case"minion":case"minions":{let t,s,i=misc_settings.bots?.[yt];if(e("#infoContent").children().each((function(){e(this).text().includes("Minion Time:")&&(s=e(this).find("span").text()),e(this).text().includes("Minions:")&&(t=e(this).find("span").text())})),null!=se[yt]&&se[yt]?.amt&&!se[yt]?.started&&(null==i||i&&Date.now()>i.currMs+i.rem))a=`${r}Minion Pack Unstarted: ${se[yt].amt}`;else if(null!=se[yt]&&se[yt]?.started&&se[yt]?.amt&&null==i)a=`${r}Minion Pack Activated: ${se[yt].amt}`;else if(null!=se[yt]&&se[yt].amt&&null!=i&&(i.active||se[yt].started)&&i.rem-(Date.now()-i.currMs)>0)a=`${r}Minion Pack Activated: ${se[yt].amt}, with ${msToTime(i.rem-(Date.now()-i.currMs))} remaining`;else if(null!=t&&null!=s){let e=s.split(":"),i=36e5*+e[0]+6e4*+e[1]+1e3*+e[2];a=`${r}Minion Pack Activated: ${t}, with ${msToTime(i)} remaining`}else a=`${r}Minion Pack Activated: none`;break}case"pws":case"pw":case"powers":case"power":case"inv":case"inventory":Z(`It's recommended to use ${chatPrefix+n}1, ${chatPrefix+n}2, and ${chatPrefix+n}3 instead, so your chat messages aren't cut-off by the chat maxlength`,"red",8e3),E(),a=`${r}Inv: `;for(let e in q){const t=q[e];a+=t+(""==t?"":" ")+(""==t?"":e+", ")}if(a.length>100){a=`${r}Inv: `;for(let e in q){const t=q[e];a+=t+(""==t?"":e+", ")}if(a.length>100){a=`${r}Inv: `;for(let e in q){const t=q[e];a+=t+(""==t?"":e+",")}if(a.length>100){a=`${r}Inv: `;for(let e in q){const t=q[e];a+=t+""+(""==t?"":e[0]+e[1]+e[2]+",")}if(a.length>100){a=`${r}Inv: `;for(let e in q){const t=q[e];a+=t+(""==t?"":e[0]+e[1]+",")}if(a.length>100){a=`${r}Inv: `;for(let e in q){const t=q[e];a+=t+(""==t?"":e[0]+",")}}}}}}a=a.replace(/,[^,]*$/g,""),"Inv: "==a&&(a="Inv: no powers");break;case"totalpws":case"totalpw":case"totalpowers":case"totalpower":case"total":case"totpw":a=`${r}Total Powerups: ${e(".inventory-box>p").toArray().map((e=>+e.innerText)).reduce(((e,t)=>e+t))}`;break;case"xplevel":case"levelxp":case"lvlxp":case"xpcompleted":case"xp":a=`${r}XP Completed: ${re?String(Math.round(re*le*1e3,1)).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"/"+(1e3*le).toLocaleString("en-US"):"0/0"}`;break;case"level":case"levels":case"lvls":case"lvl":case"lvlcompleted":case"lvlscompleted":a=`${r}Level: ${le}, with ${round(100*re,3)}% completed`;break;case"coin":case"coins":a=`${r}Coins: ${String(de).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`;break;case"hours":case"hrs":case"hour":case"hr":case"timeplayed":a=r+e(".timePlayed>span").text();break;case"rank":case"lvlrank":a=`${r}My Rank: ${e(".ranking.text-left>span").text().match(/(?<=^Your rank: )\d+$/gm)?.[0]}`;break;case"ping":case"delay":case"ms":a=`${r}My Ping: ${e("#ping").text()}`;break;case"fps":case"frames":a=`${r}My FPS: ${e("#fps").text()}`;break;case"topmass":case"highscore":case"highmass":case"highestmass":a=`${r}My Top Mass: ${e("#topMass").text()}`;break;case"cells":case"cellcount":case"cell":a=`${r}My Cell Count: ${e("#cellsAmount").text()}`;break;case"pw1":case"pws1":case"power1":case"powers1":case"inv1":case"inventory1":a=B(1,r);break;case"pw2":case"pws2":case"power2":case"powers2":case"inv2":case"inventory2":a=B(2,r);break;case"pw3":case"pws3":case"power3":case"powers3":case"inv3":case"inventory3":a=B(3,r);break;case"friends":case"friend":case"friendsonline":case"friendonline":a=`${r}Friends Online: ${e("#friendsLoggedInAmt").text()+e("#friendsTotalAmt").text()}`;break;case"request":case"requests":case"friendrequest":case"friendrequests":case"friendreq":case"req":a=`${r}Friend Requests: ${""===e("#friendsRequestsAmt").text()?"none":e("#friendsRequestsAmt").text()}`;break;case"gold":case"goldmem":case"goldmember":case"golddays":case"gm":{const e=ie[yt];if(null==e?.has){a=`${r}Days of Goldmember Remaining: none`;break}a=`${r}Days Of Goldmember Remaining: ${e.has||null!=e.days?e.days+(1==e.days?" Day":" Days"):"none"}`;break}case"alive":case"alivetime":case"timealive":a=`${r}Time Alive: ${unsafeWindow.playerIsAlive()?msToTime(Date.now()-L):"not alive"}`;break;case"mass":case"currentmass":a=`${r}Current Mass: ${unsafeWindow.playerIsAlive()?ht.toLocaleString("en-US"):"none, not alive"}`;break;case"user":case"username":case"usr":case"account":case"acc":a=`${r}My Username: ${"Please Login First"==yt?"logged out":yt}`;break;case"custom":case"customs":case"customskins":case"totalcustoms":if(0==e("#publicSkinsPage").children().length){Z("Please load your custom skins before using this command","red",6e3),a="";break}a=`${r}My Total Custom Skins: ${e('[id^="skinCustomImg"').length}, worth ${(1e6*e('[id^="skinCustomImg"').length).toLocaleString("en-US")}`;break;case"skins":case"boughtskins":case"ownedskins":case"totalskins":{if(0==e('#skinsBuy [id^="skinContainer"]').length){Z("Please load your owned skins from the agma.io skin store","red",6e3),a="";break}let t=[],s=0,i=0;e('#skinsBuy [id^="skinUseBtn"').each((function(){t.push(+e(this)[0].id.match(/\d+$/gm)[0])}));for(let e of tt)-1!=t.indexOf(e.id)&&(e.price>2e6?++s:i+=e.price);a=`${r}My Total Bought Skins: ${e('#skinsBuy [id^="skinUseBtn"').length}, worth ${i.toLocaleString("en-US")} (${s} lim. ed.)`;break}case"ownedwearables":case"wearables":case"wears":case"totalwearables":case"totalwears":{if(e("#phpWearables li").length<=55){Z("Please load your wearables before using this command","red",6e3),a="";break}let t=[0];e('[id^="wearableUseBtn"]').each((function(){t.push(+e(this).parents().eq(0).siblings("span.win-price").text().replace(/,/g,""))})),a=`${r}My Total Wearables: ${e('[id^="wearableUseBtn"]').length}, worth ${sigma(t).toLocaleString("en-US")} coins`;break}case"cloak":case"invis":case"invisibility":{let t,s;e("#infoContent>p").each((function(){e(this).text().includes("Cloaked: ")&&(t=e(this).text().match(/(?<=Cloaked: ).+/gm)),e(this).text().includes("Cloak Time: ")&&(s=e(this).text().match(/(?<=Cloak Time: ).+/gm))})),a=null==t||null==s?`${r}Cloak inactive`:`${r}Cloak ${t}, with ${s} remaining`;break}case"addfriend":case"add":if(0==i?.length){Z(`Please add a username after the command, such as: ${chatPrefix}${n} Fishyyy`,"red",6e3),a="";break}unsafeWindow.friendAdd(i[0]);break;case"partymembers":case"partymember":a=e("#partyContent").children().length-1>0?`${r}In a party, with ${e("#partyContent").children().length-1} members`:`${r}Not in a party`;break;case"players":case"ply":case"plyrs":case"serverplayers":case"totalplayers":case"online":{let t=0,s=0;e('[id^="serverPlayers"]').toArray().map((e=>e.innerText)).forEach((e=>{let[i,n]=e.split("/");t+=+i,s+=+n})),a=`${r}Server Players: ${e('[id^="serverRow"].active>[id^="serverPlayers"]').text()}, Total Players: ${t.toLocaleString("en-US")+" / "+s.toLocaleString("en-US")}`;break}case"server":a=`${r}Currently playing in ${e('[id^="serverRow"].active>*').first().text()}`;break;case"abil":case"abils":case"ability":case"abilities":{let t=[],s="";if(e(".checkmark").each((function(){"block"==e(this).css("display")&&t.push(e(this).siblings().eq(1).attr("item"))})),null!=misc_settings.abil?.[yt]||t.length){const e=misc_settings.abil?.[yt],i={18:"Freeze",22:"Invis Cloak",20:"2x Spawn",23:"2x Exp"};if("Please Login First"==yt){a=`${r}Active Abilities: none`;break}for(let n of t)s+=i[n]+(null!=e?.[n]&&864e5-(Date.now()-e[n])>0?" with "+msToTime(864e5-(Date.now()-e[n]))+" left, ":", ");a=`${r}Active Abilities: ${""==s?"none":s}`,a=a.replace(/,[^,]*$/g,"")}else a=`${r}Active Abilities: none`;break}case"xpproj":case"xpprojected":case"projectedxp":case"projxp":case"levelprojected":case"lvlproj":case"lvlprojected":{const e=fe.length>0?12*sigma(getProperty(fe.slice(-5),"gained")):0;a=`${r}Next Hour Projected XP: ${Se?round(100*we(e,le),2)+"%":round(e).toLocaleString("en-US")}`;break}case"projcoins":case"projcoin":case"projectedcoin":case"projectedcoins":case"coinsproj":case"coinproj":case"coinprojected":case"coinsprojected":a=`${r}Next Hour Projected Coins: ${(ve.length>5?Math.round(12*sigma(getProperty(ve.slice(-5),"gained"))):0).toLocaleString("en-US")}`;break;case"xpremaining":case"xprem":case"remainingxp":case"remxp":{const e=le?1e3*le-re*le*1e3:0;Se?round(100*we(e,le),2):round(e).toLocaleString("en-US");break}case"coinsremaining":case"coinsrem":case"remainingcoins":case"remcoins":a=`${r}Coins Remanining: ${(de?25e4-de%25e4:0).toLocaleString("en-US")}`;break;case"xplasthour":case"lasthourxp":case"hrxp":case"xphr":case"hourxp":case"xphour":{const e=fe.length>0?sigma(getProperty(fe,"gained")):0;a=`${r}XP Last Hour: ${Se?round(100*we(e,le),2)+"%":round(e).toLocaleString("en-US")}`;break}case"coinslasthour":case"lasthourcoins":case"hrcoins":case"coinshr":case"hourcoins":case"coinshour":a=`${r}Coins Last Hour: ${(ve.length>0?Math.round(sigma(getProperty(ve,"gained"))):0).toLocaleString("en-US")}`;break;case"xplastmin":case"xplastminute":case"lastminxp":case"lastminutexp":case"minxp":case"minutexp":case"xpmin":{const e=pe.length>0?sigma(getProperty(pe,"gained")):0;a=`${r}XP Last Minute: ${Se?round(100*we(e,le),2)+"%":round(e).toLocaleString("en-US")}`;break}case"coinslastmin":case"coinslastminute":case"lastmincoins":case"lastminutecoins":case"coinsxp":case"minutecoins":case"coinsmin":a=`${r}Coins Last Minute: ${(be.length>0?Math.round(sigma(getProperty(be,"gained"))):0).toLocaleString("en-US")}`;break;case"xplast12s":case"xplast12sec":case"xplast12seconds":case"last12secondsxp":case"lastminutexp":case"xp12s":case"12sxp":case"xp12sec":{const e=pe.length>0?pe[pe.length-1].gained:0;a=`${r}XP Last 12 Seconds: ${Se?round(100*we(e,le),2)+"%":round(e).toLocaleString("en-US")}`;break}case"xpsession":case"sessionxp":case"xpsesh":case"sesh":case"session":case"seshxp":{const e=de&&ge[yt]?Math.round(de-ge[yt].coins):0;a=`${r}Session XP: ${Se?round(le&&ge[yt]?100*(round(re,3)+le-ge[yt].lvl):0,2)+"%":round(e).toLocaleString("en-US")}, Session Length: ${msToTime(Date.now()-ue)}`;break}case"lifetimexp":case"xplifetime":a=`${r}Lifetime XP: ${round(ce??0).toLocaleString("en-US")}`;break;case"coinssession":case"sessioncoins":case"coinssesh":case"seshcoins":a=`${r}Session Coins: ${(de&&ge[yt]?Math.round(de-ge[yt].coins):0).toLocaleString("en-US")}, Session Length:${msToTime(Date.now()-he)}`;break;case"ratewaifu":case"waifu":case"waifurating":case"waifurate":case"howwaifu":if(0==i?.length){if("Please Login First"==yt){a=`${r}My Waifu Rating: 0 / 10`;break}a=`${r}My Waifu Rating: ${Math.round(+String(Math.round(102.2*I(yt,5))).slice(-3,-1)/10)} / 10`;break}a=`${r}${i[0]}'s Waifu Rating: ${Math.round(+String(Math.round(102.2*I(i[0],5))).slice(-3,-1)/10)} / 10`;break;case"ratepro":case"pro":case"prorating":case"prorate":case"howpro":if(0==i?.length){if("Please Login First"==yt){a=`${r}I am 0% pro`;break}a=`${r}I am ${Math.round(+String(Math.round(194.3*I(yt,5))).slice(-4,-1)/10)}% pro`;break}a=`${r}${i[0]} is ${Math.round(+String(Math.round(194.3*I(i[0],5))).slice(-4,-1)/10)}% pro`;break;case"ratedog":case"dog":case"dograting":case"dograte":case"howdog":if(0==i?.length){if("Please Login First"==yt){a=`${r}I am 0% dog`;break}a=`${r}I am ${Math.round(+String(Math.round(189.3*I(yt,6))).slice(-4,-1)/10)}% dog`;break}a=`${r}${i[0]} is ${Math.round(+String(Math.round(189.3*I(i[0],6))).slice(-4,-1)/10)}% dog`;break;case"rateking":case"king":case"kingrating":case"kingrate":case"howking":if(0==i?.length){if("Please Login First"==yt){a=`${r}I am 0% king`;break}a=`${r}I am ${Math.round(+String(Math.round(389.3*I(yt,5))).slice(-4,-1)/10)}% king`;break}a=`${r}${i[0]} is ${Math.round(+String(Math.round(389.3*I(i[0],5))).slice(-4,-1)/10)}% king`;break;case"dice":case"die":case"roll":case"rolldice":{const e=0==i?.length||isNaN(+i[0])?6:+i[0];a=`${r}Rolled a dice with ${e.toLocaleString("en-US")}, landed on ${Math.round(A(1,e)).toLocaleString("en-US")}`;break}case"rng":case"random":case"randomnumber":case"number":case"num":{const e=i?.length<1||isNaN(+i[0])?0:+i[0],t=i?.length<2||isNaN(+i[1])?10:+i[1];if(e>t){Z(`Please make sure your minimum (${e}) is less than your maximum (${t})`,"red",5e3),a="";break}a=`${r}Generated a random number between ${e.toLocaleString("en-US")} and ${t.toLocaleString("en-US")}, chose: ${Math.round(A(e,t)).toLocaleString("en-US")}`;break}case"ratefriends":case"friendsrating":case"friendsrate":case"howfriends":if(0==i?.length){if("Please Login First"==yt){a=`${r}I am 0% friends with a frog`;break}a=`${r}I am ${Math.round(+String(Math.round(283.7*I(yt,4))).slice(-4,-1)/10)}% friends with a frog`;break}if(1==i?.length){if("Please Login First"==yt){a=`${r}I am 0% friends with a ${i[0]}`;break}a=`${r}I am ${Math.round(+String(Math.round(283.7*I(yt,4))+Math.round(405.2*I(i[0],5))).slice(-4,-1)/10)}% friends with a ${i[0]}`;break}a=`${r}${i[0]} is ${Math.round(+String(Math.round(283.7*I(i[0],4))+Math.round(405.2*I(i[0],5))).slice(-4,-1)/10)}% friends with ${i[1]}`;break;case"rateenemies":case"enemiesrating":case"enemiesrate":case"howenemies":case"enemies":if(0==i?.length){if("Please Login First"==yt){a=`${r}I am 0% enemies with a frog`;break}a=`${r}I am ${Math.round(+String(Math.round(164.45*I(yt,4))).slice(-5,-2)/10)}% enemies with a frog`;break}if(1==i?.length){if("Please Login First"==yt){a=`${r}I am 0% enemies with a ${i[0]}`;break}a=`${r}I am ${Math.round(+String(Math.round(164.45*I(yt,4))+Math.round(405.2*I(i[0],5))).slice(-5,-2)/10)}% enemies with a ${i[0]}`;break}a=`${r}${i[0]} is ${Math.round(+String(Math.round(164.45*I(i[0],4))+Math.round(405.2*I(i[0],5))).slice(-5,-2)/10)}% enemies with ${i[1]}`;break;case"flip":case"coinflip":case"heads":case"tails":case"flipcoin":a=`${r}Coin flipped! Landed on ${Math.round(A(0,1))?"heads":"tails"}`;break;case"script":case"version":case"fsfb":a=`${r}Using fsfb script! Version 1.3.03`;break;case"time":case"localtime":case"localetime":case"date":a=`${r}My Time: ${(new Date).toLocaleString("en-US")}`;break;case"leaderboard":case"leader":case"lb":a=`${r}My leaderboard position: ${!unsafeWindow.playerIsAlive()||ft?ft:"none, not alive"}`;break;default:a=t.val()}t.val(a)}))}let L,N=!1;unsafeWindow.playerIsAlive=()=>(!N||"none"==e("#advert").css("display"))&&N;unsafeWindow.playerIsAlive;const U=unsafeWindow.setNick;unsafeWindow.setNick=function(){return!arguments[1]&&N||(L=Date.now()),N=!0,setTimeout((()=>{Ee=!0}),1e3),U.apply(this,arguments)};const D=unsafeWindow.closeAdvert;unsafeWindow.closeAdvert=function(){return N=!1,D.apply(this,arguments)};const B=(e,t)=>{let s={string1:t+"Inv (1/?): ",string2:t+"Inv (2/?): ",string3:t+"Inv (3/?): "};E();const i={Recombine:q.rec,Speed:q.spd,Growth:q.grw,Virus:q.vrs,Mothercell:q.mtcl,Portal:q.prtl,"Gold Block":q.gblk,Freeze:q.fz,Push:q.psh,Wall:q.wall,"Anti-Freeze":q.afz,"Anti-Recombine":q.arc,Shield:q.shld,"Frozen Virus":q.fzvs};for(let e in i){let t="";t+=""==i[e]?"":i[e],t+=""==i[e]?"":" ",t+=""==i[e]?"":e+", ",s.string1.length+t.length<=100?s.string1+=t:s.string2.length+t.length<=100?s.string2+=t:s.string3+=t}if(s.string1==t+"Inv (1/?): "&&1==e)return"Inv (1/1): no powers";if(s["string"+e]==t+`Inv (${e}/?): `)return Z("This inventory line doesn't exist! Try a smaller number","red",6e3),"";let n=1;s.string3==t+"Inv (3/?): "&&s.string2!=t+"Inv (2/?): "?n=2:s.string3!=t+"Inv (3/?): "&&s.string2!=t+"Inv (2/?): "&&(n=3);const a=e=>e.replace(/,[^,]*$/g,"").replace(/\?/g,n);return a(1==e?s.string1:2==e?s.string2:s.string3)};let q={rec:"",spd:"",grw:"",vrs:"",mtcl:"",prtl:"",gblk:"",fz:"",psh:"",wall:"",afz:"",arc:"",shld:"",fzvs:""};const E=()=>{e(".inventory-box").each((function(){const t="none"!=e(this).css("display")?e(this).children().eq(0).text()||"1":"",s={invWall:"wall",invAntiFreeze:"afz",invAntiRecombine:"arc",invShield:"shld",invFrozenVirus:"fzvs",invRecombine:"rec",invSpeed:"spd",invGrowth:"grw",invSpawnVirus:"vrs",invSpawnMothercell:"mtcl",invSpawnPortal:"prtl",invSpawnGoldOre:"gblk",invFreeze:"fz",inv360Shot:"psh"};null!=s[e(this)[0].id]&&(q[s[e(this)[0].id]]=t)}))};e("#fsfb-export-btn").on("click",(()=>{if(!e("#fsfb-sect-imexport>label>input").is(":checked"))return void Z("You need to select at least one setting to export!","red");e("#fsfb-custom-bg").is(":checked")&&Z("Exporting settings with custom background included is likely to increase the file size","red",4e3);let t={},s={};for(let e in settings)"theme"==e||"theme_boxes"==e?s[e]=settings[e]:"export_import"==e||(t[e]=settings[e]);let i=null;const n=()=>{let n={selected:{game_settings:e("#fsfb-game-settings").is(":checked"),game_controls:e("#fsfb-game-controls").is(":checked"),game_background:e("#fsfb-custom-bg").is(":checked"),script_settings:e("#fsfb-script-settings").is(":checked"),script_theme:e("#fsfb-theme-settings").is(":checked")},game_settings:localStorage.settings,game_controls:localStorage.hotkeys,game_background:i,script_settings:t,script_theme:s};n.selected.game_settings||(n.game_settings=null),n.selected.game_controls||(n.game_controls=null),n.selected.game_background||(n.game_background=null),n.selected.script_settings||(n.script_settings=null),n.selected.script_theme||(n.script_theme=null);const a=document.createElement("a"),o=new Blob([JSON.stringify(n)],{type:"text/plain"});a.href=URL.createObjectURL(o),a.download="fsfb script settings",a.click(),URL.revokeObjectURL(a.href)};if(e("#fsfb-custom-bg").is(":checked")){let e,t=unsafeWindow.indexedDB.open("AgmaDB",1);t.onsuccess=function(s){e=t.result,e.onclose=t=>{e=null},e.onversionchange=t=>{e.close(),e=null};let a=e.transaction("general","readonly").objectStore("general").get("cbgDataURL");a.onsuccess=()=>{i=a.result,n()}},t.onupgradeneeded=function(e){let t=e.target.result;t.objectStoreNames.contains("general")||t.createObjectStore("general")}}else n()})),e("#fsfb-import-btn").on("click",(()=>{e("#fsfb-sect-imexport>label>input").is(":checked")?(e("#fsfb-custom-bg").is(":checked")&&Z("Pasting in settings that include a background image is likely to cause initial lag","red",0),t({title:"Import Settings",text:"Add your exported settings below and press OK to continue.",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Paste exported settings here"},(function(s){if(null==s)return!1;if(""==s)return t.showInputError("Please don't leave the input empty!"),!1;try{let i=JSON.parse(s);if(i.selected.script_settings&&e("#fsfb-script-settings").is(":checked"))for(let e in i.script_settings)for(let t in i.script_settings[e])for(let s in settings)for(let n in settings[s])i.script_settings[e][t].id==settings[s][n].id&&(settings[s][n]=i.script_settings[e][t]);if(i.selected.script_theme&&e("#fsfb-theme-settings").is(":checked"))for(let e in i.script_theme)for(let t in i.script_theme[e])for(let s in settings)for(let n in settings[s])i.script_theme[e][t].id==settings[s][n].id&&(settings[s][n]=i.script_theme[e][t]);if(i.selected.game_settings&&e("#fsfb-game-settings").is(":checked")&&localStorage.setItem("settings",i.game_settings),i.selected.game_controls&&e("#fsfb-game-controls").is(":checked")&&localStorage.setItem("hotkeys",i.game_controls),i.selected.game_background&&e("#fsfb-custom-bg").is(":checked")){let e,t=unsafeWindow.indexedDB.open("AgmaDB",1);t.onsuccess=function(s){e=t.result,e.onclose=t=>{e=null},e.onversionchange=t=>{e.close(),e=null};e.transaction("general","readwrite").objectStore("general").put(i.game_background,"cbgDataURL")},t.onupgradeneeded=function(e){let t=e.target.result;t.objectStoreNames.contains("general")||t.createObjectStore("general")}}i.selected.game_settings&&e("#fsfb-game-settings").is(":checked")||i.selected.game_controls&&e("#fsfb-game-controls").is(":checked")||i.selected.game_background&&e("#fsfb-custom-bg").is(":checked")?t({title:"Please Refresh!",text:"Refreshing the page is required for your imported agma settings to take effect",type:"warning"}):t({title:"Settings Successfully Imported!",type:"success"}),saveSettings(),xt()}catch(e){t({title:"Something went wrong!",text:"Please make sure you've entered in valid settings",type:"error"})}}))):Z("You need to select at least one setting to import!","red")})),e("#fsfb-settings-right").append('<div class="fa fa-2x fa-info-circle" id="fsfb-extra-info" data-toggle="modal" data-target=".fsfb-bug-modal"></div>'),hideAds?(localStorage.ad_l_time="9e99",e('[id^="agma-io_"], [id^="adWrapper"], #preroll').addClass("fuckAds")):localStorage.ad_l_time=Date.now();let O,R=unsafeWindow.innerWidth,W=unsafeWindow.innerHeight;e(unsafeWindow).on("resize",(function(){R=unsafeWindow.innerWidth,W=unsafeWindow.innerHeight}));const j=()=>{if(!k)return;let t,s=[{n:"top",x:R/2,y:0,nx:R/2,ny:-1e7},{n:"bottom",x:R/2,y:W,nx:R/2,ny:1e7},{n:"left",x:0,y:W/2,nx:-1e7,ny:W/2},{n:"right",x:R,y:W/2,nx:1e7,ny:W/2}];if(linesplitClosestSide){let e=[F/W,(W-F)/W,P/R,(R-P)/R];t=s[e.indexOf(Math.min(...e))]}else{let e=e=>Math.sqrt(Math.pow(P-e.x,2)+Math.pow(F-e.y,2)),i=s.reduce(((t,s)=>e(t)<e(s)?t:s));for(let e=0;e<s.length;e++)i.x==s[e].x&&i.y==s[e].y&&(t=s[e])}O={x:t.nx,y:t.ny},e("canvas").trigger(e.Event("mousemove",{clientX:t.nx,clientY:t.ny})),e("#linesplit-markers div").css("background-color","transparent"),e("#linesplit-"+t.n).css("background-color","#e25615")};let H=document.getElementsByClassName("purchase-btn confirmation");const G=Array.from(document.getElementsByClassName("purchase-btn confirmation")),X=(e,s,i)=>{t({title:"Enter Purchase Amount",text:"<span>How many <b>"+i+"</b> would you like to buy?</span>",html:!0,type:"input",showCancelButton:!0,closeOnConfirm:!1,inputPlaceholder:"Input amount here"},(function(n){let a=+n,o=a*e;return null!=n&&(""==n?(t.showInputError("Please don't leave the input empty!"),!1):/^[0-9]+$/.test(n)&&+n>>>0===parseFloat(+n)?void t({title:"Confirm",text:'<p>If you click "Buy", you will purchase this item. It will cost '+o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" in total.<br><small>You chose to purchase "+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" <b>"+i+"</b></small></p>",html:!0,type:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#4CAF50",confirmButtonText:"Yes, confirm purchase",cancelButtonText:"No, cancel purchase"},(function(e){e&&K(s,a)})):(t.showInputError("Please only enter positive integers!"),!1))}))},K=(e,t)=>{if(!(t<1))if(t>255){for(let s=0;s<~~(t/255);s++)setTimeout((()=>purchaseItem(e,255)),250*s+250);purchaseItem(e,t%255)}else purchaseItem(e,t)};if(improvedShop){for(let e=0;e<H.length;e++)H[e].onclick=function(){setTimeout((()=>{null!=document.getElementById("shopAmountDropdown")&&(document.getElementById("shopAmountDropdown").innerHTML+='<option value="20">20</option> <option value="50">50</option> <option value="100">100</option> <option value="250">250</option> <option value="custom">Pick</option>')}),5)};for(let t=0;t<16;t++)10!=t&&11!=t&&G[t].addEventListener("click",(()=>{let s=t;var i,n,a;i=G[s].getAttribute("price"),n=G[s].getAttribute("item"),a=e('.purchase-btn.confirmation[item="'+G[s].getAttribute("item")+'"]').prev().find("h3").eq(0).text(),setTimeout((()=>{const e=document.getElementById("shopAmountDropdown");document.getElementsByClassName("sweet-alert showSweetAlert")[0].childNodes[7].firstChild.textContent='If you click "Buy", you will purchase this item. It will cost '+i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" in total.",e.addEventListener("change",(()=>{if("custom"==e.value)return X(i,n,a);let t=(e.value*i).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");document.getElementsByClassName("sweet-alert showSweetAlert")[0].childNodes[7].firstChild.textContent='If you click "Buy", you will purchase this item. It will cost '+t+" in total."}))}),30)}))}const V=[{title:"100 Bots",time:"24 HOURS",price:"700,000",id:9},{title:"125 Bots",time:"48 HOURS",price:"900,000",id:10},{title:"300 Bots",time:"24 HOURS",price:"900,000",id:7},{title:"100 MASS Bots",time:"1 HOURS",price:"800,000",id:8},{title:"300 Bots",time:"72 HOURS",price:"2,000,000",id:11},{title:"100 MASS Bots",time:"24 HOURS",price:"2,600,000",id:12}],Y=document.getElementsByClassName("tab-container-section minion scroll")[0].children[0].children[0];function Q(e){const t=document.createElement("li");t.setAttribute("class","masterTooltip extra-min"),t.setAttribute("title","Spawns bots/minions which suicide into your playercell to make you big in no time! Minions follow your mouse and split upon your command! Minions start immediately after you buy them."),Y.appendChild(t),t.innerHTML='\n        <div class="title_prch">\n        <img src="img/store/minions/minions_tab.png" width="70px" height="60px">\n        <div class="minionDescription">\n        <h4 style="font-size: 18px;">'+e.title+'</h4>\n        <h3 style="margin-top:10px;color:white;"> '+e.time+'</h3>\n        </div> <span class="win-price">'+e.price+'</span>\n        </div>\n        <a href="#" price="'+e.price+'" item="'+e.id+'" class="purchase-btn2 confirm-minion extra-min">Buy</a>\n        '}if(e(".confirm-minion[item=7], .confirm-minion[item=8]").parent().hide(),document.getElementById("extraTab").childNodes[0].setAttribute("onclick",""),extraBotPacks)for(let e of V)Q(e);let J={};if(extraChatCommands){let t,s,i;const n=()=>{setTimeout((()=>{if("Success!"!=e(".sweet-alert h2").text()||t!=s)return;J[yt]={...se[yt],chatAmt:{1:"10 Bots 1 Hour",2:"40 Bots 1 Hour",3:"50 Bots 2 Hours",4:"80 Bots 1 Hour",5:"100 Bots 4 Hours",6:"125 Bots 8 Hours",7:"300 Bots 24 Hours",8:"100 MASS Bots 1 Hour",9:"100 Bots 24 Hours",10:"125 Bots 48 Hours",11:"300 Bots 72 Hours",12:"100 MASS Bots 24 Hours"}[i],started:!1}}),900)};e(".purchase-btn2.confirm-minion[item]").on("click",(function(){t=this.getAttribute("price").replace(/,/g,""),i=this.getAttribute("item"),e(".confirm").attr("disabled","true"),setTimeout((()=>{e(".confirm").removeAttr("disabled"),s=e(".sweet-alert.showSweetAlert.visible p").eq(0).text().replace(/\D+/g,"")}),750),setTimeout((()=>e(".confirm")[0].addEventListener("click",n)),500)}))}e("#contextPlayer").on("click",(t=>{if(rightClickCopyInfo)if(e("#contextPlayerSkin").width()+e("#contextPlayerSkin").offset().left+5>t.pageX)if("none"!=e("#contextPlayerSkin").css("background-image")){let t=e("#contextPlayerSkin").css("background-image").match(/(?<=\/skins\/)[0-9]+/gm)[0];navigator.clipboard.writeText(t).then((function(){Z("Skin ID of "+t+" was copied to your clipboard.","green")}),(function(){Z("Something went wrong. Nothing was added to your clipboard.","red")}))}else"rgb(51, 51, 51)"==e("#contextPlayerSkin").css("background-color")?Z("No player selected. Nothing was added to your clipboard.","red"):Z("No skin equipped. Nothing was added to your clipboard.","red");else"rgb(51, 51, 51)"==e("#contextPlayerSkin").css("background-color")?Z("No player selected. Nothing was added to your clipboard.","red"):navigator.clipboard.writeText(e("#contextPlayerName").text()).then((function(){Z('Nickname: "'+e("#contextPlayerName").text()+'" was copied to your clipboard',"green")}),(function(){Z("Something went wrong. Nothing was added to your clipboard.","red")}))}));const Z=(t,s,i)=>{"green"==s&&(s="rgb(0, 192, 0)"),"red"==s&&(s="rgb(255, 0, 0)"),"gray"==s&&(s="rgb(153, 153, 153)"),e("#curser").text(t).show().css("color",s),0!=i&&setTimeout((()=>e("#curser").fadeOut(400)),i??4e3)};let ee=0;const te=unsafeWindow.strMin;unsafeWindow.strMin=function(){return ne(),te.apply(this,arguments)};let se={},ie={};const ne=async()=>{let t,s=!1;var i;if(await(i=()=>1==s,new Promise((t=>{let n=setInterval((()=>{e("#infoContent").children().each((function(){e(this).text().includes("Minion Time:")&&(s=!0)})),i()&&(clearInterval(n),t())}),100);setTimeout((()=>{clearInterval(n),t()}),1e4)}))),!s)return;e("#infoContent").children().each((function(){e(this).text().includes("Minion Time:")&&(ee=e(this).find("span").text()),e(this).text().includes("Minions:")&&(t=e(this).find("span").text())}));let n=ee.split(":"),a=36e5*+n[0]+6e4*+n[1]+1e3*+n[2];misc_settings.bots[yt]={...misc_settings.bots[yt],active:!0,amt:t,chatAmt:null,rem:a,currMs:Date.now()},set("fsfb-misc",misc_settings)};if(showRemainingAbilityTime){let t,s,i;const n=()=>{setTimeout((()=>{"Success!"==e(".sweet-alert h2").text()&&t==s&&(misc_settings.abil[yt]={...misc_settings.abil[yt],[i]:Date.now()},set("fsfb-misc",misc_settings))}),900)};[18,20,22,23].forEach((a=>{let o=e(`.purchase-btn.confirmation[item="${a}"]`).parents().eq(0).find("div h5");o.clone().insertAfter(o).addClass("fsfb-fake").hide(),e(`.purchase-btn[item="${a}"]`).on("click",(function(){t=this.getAttribute("price"),i=this.getAttribute("item"),e(".confirm").attr("disabled","true"),setTimeout((()=>{e(".confirm").removeAttr("disabled"),s=e(".sweet-alert.showSweetAlert.visible p").eq(0).text().replace(/\D+/g,"")}),750),setTimeout((()=>e(".confirm")[0].addEventListener("click",n)),500)}))}))}const ae=e=>new Promise((t=>{let s=setInterval((()=>{e()&&(clearInterval(s),t())}),100);setTimeout((()=>{clearInterval(s),t()}),15e3)}));sortWearablesByOwned&&e("#wearablesTab").on("click",(async()=>{await ae((()=>e("#phpWearables li").length>55)),e("#phpWearables li").length<=55||(e(e('[id^="wearableUseBtn"]').get().reverse()).each((function(){e(e(this).parents().get(2)).insertBefore(e("#phpWearables li:eq(0)"))})),e("#phpWearables").append('<div id="fsfb-wearsloaded"></div>'))})),e.fn.draggable=function(){var t=this,s="draggable_"+(Math.random()+"").replace(".",""),i="mousemove."+s,n="mouseup."+s,a=e(window),o="fixed"===t.css("position"),r=0,l=0;return t.mousedown((function(e){var c=t.offset();o&&(r=a.scrollLeft(),l=a.scrollTop());var d=e.pageX-c.left,p=e.pageY-c.top;t.data(s,{x:d,y:p}),a.on(i,(function(e){e.preventDefault(),e.stopPropagation(),o&&(r=a.scrollLeft(),l=a.scrollTop());var i=t.data(s);t.css({left:e.pageX-r-i.x,top:e.pageY-l-i.y})})),a.on(n,(function(){a.off(i+" "+n).removeData(s)}))})),this};const oe=12e3;let re,le,ce,de,pe=[],fe=[];unsafeWindow.logStatsScriptXP=!1,unsafeWindow.logStatsScriptCoins=!1;let he=Date.now(),ue=Date.now(),ge={};let ye=!1;const me=6e3;let be=[],ve=[];const ke=document.createElement("div");ke.setAttribute("id","stats-container"),ke.style.display="none",ke.innerHTML='<div id="stats-main"><div id="stats-title"><title id="stats-extra-info">XP Stats - Updating Every 12s</title><div><div title="Toggle Percentages Shown" id="stats-perc-btn" class="fa fa-percent"></div><div title="Toggle Stats Shown" id="stats-change-shown" class="fa fa-eye-slash"></div><div title="Reset Stats" class="fa fa-refresh" id="stats-reset-btn"></div></div></div><div><table id="stats-table"><tbody><tr><td><label><input type="checkbox">Lvl Completed:</label></td><td>0/0</td></tr><tr><td><label><input type="checkbox">Remaining:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Projected (hr):</label></td><td>0</td></tr><tr><td><label><input type="checkbox">Last Hour:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Last Minute:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Last 12s:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Minute Mean:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Minute Median:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Minute Sd:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Latest Outliers:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Session XP:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Session Length:</label></td><td>100,000</td></tr><tr><td><label><input type="checkbox">Lifetime XP:</label></td><td>100,000</td></tr></tbody></table></div></div>',document.querySelector("body").append(ke),e("#stats-container").draggable();let xe=misc_settings?.statsPos??{top:e("#stats-container")[0].style.top,left:e("#stats-container")[0].style.left};saveStatsBoxPosition&&xe&&e("#stats-container").css({top:xe.top,left:xe.left});const we=(e,t=0)=>isNaN(e/(1e3*t))?0:e/(1e3*t);e("#stats-reset-btn").on("click",(()=>{if(ye){be=[],ve=[];for(let e in ge)ge[e].coins=0;null!==ge[yt]&&"Please Login First"!==yt&&(ge[yt].coins=de),he=Date.now()}else{pe=[],fe=[];for(let e in ge)ge[e].xp=0;null!==ge[yt]&&"Please Login First"!==yt&&(ge[yt].xp=ce),ue=Date.now()}Pe()}));let Se=!1;e("#stats-perc-btn").on("click",(()=>{Se=!Se,Pe()}));let Ce=!1;e("#stats-change-shown").on("click",(()=>{if(Ce=!Ce,Ce)e("#stats-table tr").show(),wt("stats-input-css","#stats-table input{ display: unset; }");else{for(let t in misc_settings.statsSettings[ye?"coins":"xp"])misc_settings.statsSettings[ye?"coins":"xp"][t]=e("#stats-"+t+' input[type="checkbox"]').is(":checked"),e("#stats-"+t+' input[type="checkbox"]').is(":checked")?e("#stats-"+t).show():e("#stats-"+t).hide();set("fsfb-misc",misc_settings),wt("stats-input-css","#stats-table input{ display: none; }")}}));class $e{constructor(e,t,s,i){this.id=this.getID(i),this.user=s,this.amount=e,this.gained=this.calcGain(e,i,this.id),this.lvl=t}findWhich(e){return(e==pe||e==fe?"xp ":"coins ")+(e==fe||e==ve?"hour":"minute")}calcGain(e,t,s){const i=t[t.length-1];return i&&t==fe&&1==s?round(sigma(getProperty(pe,"gained")),3):i&&t==ve&&1==s?round(sigma(getProperty(be,"gained")),3):i&&e-i.amount>=0&&i.user==this.user&&0!=i.amount?round(e-i.amount,3):0}getID(e){return e[e.length-1]?e[e.length-1].id+1:1}}const ze=()=>{var t;re=e(".progress-bar[role=progressbar]")[0].style.width.slice(0,-1)/100,le=+e("#level.user-level")[0].textContent,ce=1e3*((t=le)*(t-1)/2+le*re)},Me=()=>{de=+e("#coinsDash")[0].textContent.replace(/ /g,"")},Pe=()=>{if(!Ce)if(ye){const t=ve.length,s=be.length,i=(de&&(de.toLocaleString("en-US"),Math.ceil(de/25e4).toLocaleString("en-US")),de?25e4-de%25e4:0),n=t>5?Math.round(12*sigma(getProperty(ve.slice(-5),"gained"))):0,a=t>0?Math.round(sigma(getProperty(ve,"gained"))):0,o=t>0?t:0,r=s>0?Math.round(sigma(getProperty(be,"gained"))):0,l=s>0?s:0,c=10,d=(s>0&&getProperty(ve.slice(-5),"amount")[0],t>0?Math.round(mean(getProperty(ve,"gained"))):0),p=t>0?Math.round(median(getProperty(ve,"gained"))):0,f=t>0?Math.round(standardDeviation(getProperty(ve,"gained"))):0,h=(t>0&&checkOutliers(getProperty(ve,"gained")),de&&ge[yt]?Math.round(de-ge[yt].coins):0),u=msToTime(Date.now()-he),g=me;document.getElementById("stats-table").innerHTML=`<tbody><tr id="stats-rem"><td><label><input type="checkbox">Remaining:</label></td><td>${i.toLocaleString("en-US")}</td></tr><tr id="stats-projhr"><td><label><input type="checkbox">Projected (hr):</label></td><td>${n.toLocaleString("en-US")}</td></tr><tr id="stats-lasthr"><td><label><input type="checkbox">Last Hour:</label></td><td>${a.toLocaleString("en-US")}<span class="stats-completed">(${o}/60)</span></td></tr><tr id="stats-lastmin"><td><label><input type="checkbox">Last Minute:</label></td><td>${r.toLocaleString("en-US")}<span class="stats-completed">(${l+"/"+c})</span></td></tr><tr id="stats-mean"><td><label><input type="checkbox">Minute Mean:</label></td><td>${d.toLocaleString("en-US")}</td></tr><tr id="stats-median"><td><label><input type="checkbox">Minute Median:</label></td><td>${p.toLocaleString("en-US")}</td></tr><tr id="stats-sd"><td><label><input type="checkbox">Minute Sd:</label></td><td>${f.toLocaleString("en-US")}</td></tr><tr id="stats-sesh"><td><label><input type="checkbox">Session Coins:</label></td><td>${h.toLocaleString("en-US")}</td></tr><tr id="stats-seshlength"><td><label><input type="checkbox">Session Length:</label></td><td id="stats-sesh-length">${u}</td></tr></tbody>`;for(let t in misc_settings.statsSettings.coins)misc_settings.statsSettings.coins[t]?e("#stats-"+t).show():e("#stats-"+t).hide(),e("#stats-"+t+' input[type="checkbox"').prop("checked",misc_settings.statsSettings.coins[t]);e("#stats-extra-info").text(`Coin Stats - Updating Every ${g/1e3}s`).css("color","#ffc800"),e("#stats-sesh-length").text(msToTime(Date.now()-he)),e("#stats-perc-btn").hide()}else{const t=fe.length,s=pe.length,i=re?String(Math.round(re*le*1e3,1)).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"/"+(1e3*le).toLocaleString("en-US"):"0/0",n=le?1e3*le-re*le*1e3:0,a=t>0?12*sigma(getProperty(fe.slice(-5),"gained")):0,o=t>0?sigma(getProperty(fe,"gained")):0,r=t>0?t:0,l=s>0?sigma(getProperty(pe,"gained")):0,c=s>0?s:0,d=5,p=s>0?pe[pe.length-1].gained:0,f=t>0?mean(getProperty(fe,"gained")):0,h=t>0?median(getProperty(fe,"gained")):0,u=t>0?standardDeviation(getProperty(fe,"gained")):0,g=(t>0&&checkOutliers(getProperty(fe,"gained")),ce&&ge[yt]?ce-ge[yt].xp:0),y=msToTime(Date.now()-ue),m=ce?Math.round(ce):0,b=oe;document.getElementById("stats-table").innerHTML=`<tbody><tr id="stats-lvlcomp"><td><label><input type="checkbox">Lvl Completed:</label></td><td>${i.toLocaleString("en-US")}</td></tr><tr id="stats-rem"><td><label><input type="checkbox">Remaining:</label></td><td>${Se?round(100*we(n,le),2)+"%":round(n).toLocaleString("en-US")}</td></tr><tr id="stats-projhr"><td><label><input type="checkbox">Projected (hr):</label></td><td>${Se?round(100*we(a,le),2)+"%":round(a).toLocaleString("en-US")}</td></tr><tr id="stats-lasthr"><td><label><input type="checkbox">Last Hour:</label></td><td>${Se?round(100*we(o,le),2)+"%":round(o).toLocaleString("en-US")}<span class="stats-completed">(${r}/60)</span></td></tr><tr id="stats-lastmin"><td><label><input type="checkbox">Last Minute:</label></td><td>${Se?round(100*we(l,le),2)+"%":round(l).toLocaleString("en-US")}<span class="stats-completed">(${c+"/"+d})</span></td></tr><tr id="stats-lastsec"><td><label><input type="checkbox">Last 12s:</label></td><td>${Se?round(100*we(p,le),2)+"%":round(p).toLocaleString("en-US")}</td></tr><tr id="stats-mean"><td><label><input type="checkbox">Minute Mean:</label></td><td>${Se?round(100*we(f,le),2)+"%":round(f).toLocaleString("en-US")}</td></tr><tr id="stats-median"><td><label><input type="checkbox">Minute Median:</label></td><td>${Se?round(100*we(h,le),2)+"%":round(h).toLocaleString("en-US")}</td></tr><tr id="stats-sd"><td><label><input type="checkbox">Minute Sd:</label></td><td>${Se?round(100*we(u,le),2)+"%":round(u).toLocaleString("en-US")}</td></tr><tr id="stats-sesh"><td><label><input type="checkbox">Session XP:</label></td><td>${Se?round(le&&ge[yt]?100*(round(re,3)+le-ge[yt].lvl):0,2)+"%":round(g).toLocaleString("en-US")}</td></tr><tr id="stats-seshlength"><td><label><input type="checkbox">Session Length:</label></td><td id="stats-sesh-length">${y}</td></tr><tr id="stats-lifetime"><td><label><input type="checkbox">Lifetime XP:</label></td><td>${m.toLocaleString("en-US")}</td></tr></tbody>`;for(let t in misc_settings.statsSettings.xp)misc_settings.statsSettings.xp[t]?e("#stats-"+t).show():e("#stats-"+t).hide(),e("#stats-"+t+' input[type="checkbox"').prop("checked",misc_settings.statsSettings.xp[t]);e("#stats-extra-info").text(`XP Stats - Updating Every ${b/1e3}s`).css("color","#00bbff"),e("#stats-sesh-length").text(msToTime(Date.now()-ue)),e("#stats-perc-btn").show()}};e(".progress-bar").eq(1).parent()[0].style.cursor="pointer",coinXPstats&&(e(".progress-bar").eq(1).parent().on("click",(()=>{const t=e("#stats-container");"none"==t[0].style.display?t.fadeIn(400):ye||t.fadeOut(400),ye=!1,Pe()})),[e(".dash-coin.dcTopBar").eq(0),e("#coinsTopLeft"),e(".progress-bar-coins").eq(1)].forEach((t=>{t.on("click",(t=>{const s=e("#stats-container");"none"==s[0].style.display?s.fadeIn(400):ye&&s.fadeOut(400),ye=!0,Pe(),t.stopImmediatePropagation()}))}))),rightClickCopyChat&&(e("#contextSpectate").after('<li id="contextCopyChat" class="contextmenu-item enabled"><div class="fa fa-clipboard fa-2x context-icon"></div><p>Copy Chat Messages</p></li>'),e("#contextCopyChat").on("click",(()=>{let t=Ie,s="";if(null!=t){for(let e of t.reverse())s+=new Date(e.time).toLocaleTimeString()+" "+e.name+": "+e.message+"\n";navigator.clipboard.writeText(s).then((function(){Z("Chat messages were successfully added to clipboard.","green")}),(function(){Z("Something went wrong. Nothing was added to your clipboard.","red")}))}e("#contextMenu").hide()})));let Fe=!1;if(e("#invCloak").after('<div class="inventory-box" id="fsfb-quickMega" style="background-image: url(../img/store/megaphone_shout.png); display: none;"></div>'),e("#invCloak").after('<div class="inventory-box" id="fsfb-minionNuker" style="background-image: url(../img/store/minion_nuker.png); display: none;"></div>'),e(inventorySingleRow?"#fsfb-quickMega":"#inv360Shot").after('<div class="inventory-box" id="fsfb-quickbuy" style="display: none;"><img id="fsfb-quickbuy-img" height="80%" src="https://i.imgur.com/tAjoEyU.png"></div>'),e("#fsfb-quickbuy").on("click",(function(){Fe=!Fe,Fe?(e(this).addClass("activatedInv"),Z("Quick buy activated, click the powerup you would like to buy.","green"),e(".inventory-box").addClass("fsfb-shown").find("p").hide(),e("#invCloak").removeClass("fsfb-shown"),e("#fsfb-quickbuy").removeClass("fsfb-shown")):(e(this).removeClass("activatedInv"),Z("Quick buy deactivated.","red"),e(".inventory-box").removeClass("fsfb-shown").find("p").show())})),e("body").append('<div id="linesplit-markers"><div id="linesplit-top"></div><div id="linesplit-right"></div><div id="linesplit-bottom"></div><div id="linesplit-left"></div></div>'),setTimeout((()=>e('#inventory, #chat, #minionUi, #infection_remain_zombie, #party, #challengeInfoBox, #gamemodeBox, #infoBox, #brGameContainer, #infGameContainer, #curser, #leaderboard, #minimap, #btnFriends, .innerBoxDashboard2, #fpsBox, #settingsBtn, #megaholder, #keyboard-layout, div[style^="position: fixed; right: 20px; bottom: 230px; z-index: 998;"], #linesplit_overlay').addClass("hideUI")),4e3),inventorySingleRow)for(let t=1;t<3;t++)e("#inventory"+t).addClass("fsfb-inventories").css("order",t);const Te=()=>{friendDeclineAll&&"Please Login First"!=yt&&(e("#friendAcceptAll").text("Reject All").addClass("fsfb-temp").clone().insertAfter(e("#friendAcceptAll")).attr("style","right: 93px;").text("Accept All").removeClass("fsfb-temp"),e(".fsfb-temp").attr("id","friendRejectAll").removeAttr("onclick").removeClass("fsfb-temp"),e("#friendRejectAll").on("click",(()=>{e("#requestList>.friend>.btn-friends.remove").each((function(){e(this)[0].click()}))})))};friendDeclineAll&&e("#btnFriends").on("click",(async()=>{await ae((()=>e("#friendAcceptAll").length>0)),0!=e("#friendAcceptAll").length&&(await c(50),Te())}));let _e,Ie,Ae=Array.prototype.push,Le=Array.prototype.splice,Ne=null,Ue=!0,De=!1,Be=0,qe=[],Ee=!1,Oe={portal:null,lastMass:0,lastMassChange:0,lastValue:0,room:1},Re={portal:null,lastMass:0,lastMassChange:0,lastValue:0,room:2},We={default:{ejPortalMass:12,r1Id:1,r2Id:7,r3Id:null,r1StartMass:500,r2StartMass:500,entities:[]},1:{entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3400,y:15300,size:195},{type:1,x:2500,y:15e3,size:45},{type:2,x:3e3,y:14500,size:35},{type:3,x:2700,y:14600,size:29},{type:0,x:12e3,y:15500,size:195},{type:1,x:11e3,y:15e3,size:29},{type:2,x:12600,y:14900,size:35},{type:2,x:12e3,y:15200,size:35},{type:2,x:11300,y:14900,size:35},{type:3,x:12800,y:14500,size:29}]},2:{ejPortalMass:20,r1Id:1,r2Id:14,r3Id:6,r1StartMass:500,r2StartMass:500,entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:7400,y:21300,size:195},{type:1,x:3500,y:21e3,size:45},{type:2,x:5e3,y:20500,size:35},{type:3,x:3700,y:20600,size:29},{type:0,x:14e3,y:22e3,size:195},{type:1,x:11e3,y:21e3,size:29},{type:2,x:11300,y:20900,size:35},{type:2,x:12e3,y:21200,size:35},{type:2,x:12600,y:20900,size:35},{type:3,x:12800,y:20500,size:29},{type:0,x:22e3,y:21500,size:195},{type:2,x:21300,y:21e3,size:45}]},4:{ejPortalMass:20,r1Id:1,r2Id:14,r3Id:6,r1StartMass:500,r2StartMass:500,entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:7400,y:21300,size:195},{type:1,x:3500,y:21e3,size:45},{type:2,x:5e3,y:20500,size:35},{type:3,x:3700,y:20600,size:29},{type:0,x:14e3,y:22e3,size:195},{type:1,x:11e3,y:21e3,size:29},{type:2,x:11300,y:20900,size:35},{type:2,x:12e3,y:21200,size:35},{type:2,x:12600,y:20900,size:35},{type:3,x:12800,y:20500,size:29},{type:0,x:22e3,y:21500,size:195},{type:2,x:21300,y:21e3,size:35}]},5:{entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3400,y:15300,size:195},{type:1,x:2500,y:15e3,size:45},{type:2,x:3e3,y:14500,size:35},{type:3,x:2700,y:14600,size:29},{type:0,x:12e3,y:15500,size:195},{type:1,x:11e3,y:15e3,size:29},{type:2,x:12600,y:14900,size:35},{type:2,x:11300,y:14900,size:35},{type:2,x:12e3,y:15200,size:35},{type:3,x:12800,y:14500,size:29}]},6:{ejPortalMass:12,r1Id:1,r2Id:6,r1StartMass:500,r2StartMass:500,entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3400,y:26300,size:195},{type:1,x:2500,y:26e3,size:45},{type:2,x:3e3,y:25500,size:45},{type:3,x:2700,y:25600,size:29},{type:0,x:15e3,y:26500,size:195},{type:1,x:14e3,y:26e3,size:29},{type:2,x:14300,y:25900,size:45},{type:2,x:15e3,y:26200,size:45},{type:2,x:15600,y:25900,size:45},{type:3,x:15800,y:25500,size:29}]},7:{entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3400,y:15300,size:195},{type:1,x:2500,y:15e3,size:45},{type:2,x:3e3,y:14500,size:35},{type:3,x:2700,y:14600,size:29},{type:0,x:12e3,y:15500,size:195},{type:1,x:11e3,y:15e3,size:29},{type:2,x:11300,y:14900,size:35},{type:2,x:12e3,y:15200,size:35},{type:2,x:12600,y:14900,size:35},{type:3,x:12800,y:14500,size:29}]},8:{entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3400,y:15300,size:195},{type:1,x:2500,y:15e3,size:45},{type:2,x:3e3,y:14500,size:35},{type:3,x:2700,y:14600,size:29},{type:0,x:12e3,y:15500,size:195},{type:1,x:11e3,y:15e3,size:29},{type:2,x:11300,y:14900,size:35},{type:2,x:12e3,y:15200,size:35},{type:2,x:12600,y:14900,size:35},{type:3,x:12800,y:14500,size:29}]},9:{entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3400,y:27300,size:195},{type:1,x:2500,y:27e3,size:45},{type:2,x:3e3,y:26500,size:35},{type:3,x:2700,y:26600,size:29},{type:0,x:12e3,y:27500,size:195},{type:1,x:11e3,y:27e3,size:29},{type:2,x:11300,y:26900,size:35},{type:2,x:12e3,y:27200,size:35},{type:2,x:12600,y:26900,size:35},{type:3,x:12800,y:26500,size:29}]},11:{entities:[{type:1,x:2500,y:2500,size:45},{type:3,x:5e3,y:33e3,size:45},{type:1,x:18e3,y:18e3,size:45},{type:3,x:24e3,y:12e3,size:45}]},12:{entities:[{type:1,x:2500,y:2500,size:45},{type:3,x:5e3,y:33e3,size:45},{type:1,x:18e3,y:18e3,size:45},{type:3,x:24e3,y:12e3,size:45}]},13:{ejPortalMass:13.5,r1Id:12,r2Id:11,r1StartMass:500,r2StartMass:500,entities:[{type:0,x:1500,y:27500,size:195},{type:1,x:14e3,y:32e3,size:45},{type:3,x:13200,y:33500,size:45},{type:4,x:12500,y:32200,size:142},{type:4,x:14500,y:32200,size:142},{type:0,x:16e3,y:33500,size:195},{type:1,x:500,y:24e3,size:45},{type:3,x:2500,y:24e3,size:45},{type:4,x:900,y:22e3,size:142},{type:4,x:500,y:15e3,size:224},{type:4,x:1200,y:5500,size:224},{type:4,x:2e3,y:3e3,size:224},{type:4,x:4e3,y:6e3,size:224},{type:4,x:4500,y:3e3,size:224},{type:4,x:8e3,y:3500,size:224},{type:4,x:1e4,y:4500,size:224},{type:4,x:16e3,y:3e3,size:224},{type:4,x:15400,y:2400,size:224},{type:4,x:7500,y:19e3,size:224},{type:4,x:19200,y:14e3,size:224},{type:4,x:24400,y:24e3,size:224},{type:4,x:17500,y:14e3,size:142},{type:4,x:3e4,y:16e3,size:142}]},14:{ejPortalMass:13.5,r1Id:12,r2Id:11,r1StartMass:500,r2StartMass:500,entities:[{type:0,x:1500,y:27500,size:195},{type:1,x:14e3,y:32e3,size:45},{type:3,x:13200,y:33500,size:45},{type:4,x:12500,y:32200,size:142},{type:4,x:14500,y:32200,size:142},{type:0,x:16e3,y:33500,size:195},{type:1,x:500,y:24e3,size:45},{type:3,x:2500,y:24e3,size:45},{type:4,x:900,y:22e3,size:142},{type:4,x:500,y:15e3,size:224},{type:4,x:1200,y:5500,size:224},{type:4,x:2e3,y:3e3,size:224},{type:4,x:4e3,y:6e3,size:224},{type:4,x:4500,y:3e3,size:224},{type:4,x:8e3,y:3500,size:224},{type:4,x:1e4,y:4500,size:224},{type:4,x:16e3,y:3e3,size:224},{type:4,x:15400,y:2400,size:224},{type:4,x:7500,y:19e3,size:224},{type:4,x:19200,y:14e3,size:224},{type:4,x:24400,y:24e3,size:224},{type:4,x:17500,y:14e3,size:142},{type:4,x:3e4,y:16e3,size:142}]},17:{entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3400,y:27300,size:195},{type:1,x:2500,y:27e3,size:45},{type:2,x:3e3,y:26500,size:35},{type:3,x:2700,y:26600,size:29},{type:0,x:12e3,y:27500,size:195},{type:1,x:11e3,y:27e3,size:29},{type:2,x:11300,y:26900,size:35},{type:2,x:12e3,y:27200,size:35},{type:2,x:12600,y:26900,size:35},{type:3,x:12800,y:26500,size:29}]},18:{entities:[{type:1,x:2500,y:2500,size:45},{type:3,x:5e3,y:33e3,size:45},{type:1,x:18e3,y:18e3,size:45},{type:3,x:24e3,y:12e3,size:45}]},19:{entities:[{type:1,x:2500,y:2500,size:45},{type:3,x:5e3,y:33e3,size:45},{type:1,x:18e3,y:18e3,size:45},{type:3,x:24e3,y:12e3,size:45}]},20:{entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3400,y:27300,size:195},{type:1,x:2500,y:27e3,size:45},{type:2,x:3e3,y:26500,size:35},{type:3,x:2700,y:26600,size:29},{type:0,x:12e3,y:27500,size:195},{type:1,x:11e3,y:27e3,size:29},{type:2,x:11300,y:26900,size:35},{type:2,x:12e3,y:27200,size:35},{type:2,x:12600,y:26900,size:35},{type:3,x:12800,y:26500,size:29}]},23:{entities:[{type:1,x:2500,y:2500,size:45},{type:3,x:5e3,y:33e3,size:45},{type:1,x:18e3,y:18e3,size:45},{type:3,x:24e3,y:12e3,size:45}]},24:{entities:[{type:1,x:2500,y:2500,size:45},{type:3,x:5e3,y:33e3,size:45},{type:1,x:18e3,y:18e3,size:45},{type:3,x:24e3,y:12e3,size:45}]},25:{entities:[{type:1,x:2500,y:2500,size:45},{type:3,x:5e3,y:33e3,size:45},{type:1,x:18e3,y:18e3,size:45},{type:3,x:24e3,y:12e3,size:45}]},26:{entities:[{type:1,x:2500,y:2500,size:45},{type:3,x:5e3,y:33e3,size:45},{type:1,x:18e3,y:18e3,size:45},{type:3,x:24e3,y:12e3,size:45}]},38:{ejPortalMass:12,r1Id:1,r2Id:6,r1StartMass:500,r2StartMass:400,entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3500,y:11500,size:195},{type:1,x:2500,y:11500,size:45},{type:2,x:3e3,y:11e3,size:35},{type:3,x:2700,y:11100,size:29},{type:0,x:9e3,y:11800,size:180},{type:1,x:8200,y:10500,size:29},{type:2,x:8300,y:10900,size:35},{type:2,x:9e3,y:11200,size:35},{type:2,x:9600,y:10900,size:35},{type:3,x:9800,y:10500,size:29}]},39:{entities:[]},42:{entities:[{type:1,x:2500,y:2500,size:45},{type:3,x:5e3,y:33e3,size:45},{type:1,x:18e3,y:18e3,size:45},{type:3,x:24e3,y:12e3,size:45}]},43:{ejPortalMass:11,r1Id:1,r2Id:13,r3Id:7,r1StartMass:1004,r2StartMass:250,r3StartMass:1004,entities:[{type:1,x:2500,y:2500,size:45},{type:0,x:3400,y:20300,size:275},{type:1,x:2500,y:2e4,size:45},{type:2,x:3e3,y:19500,size:35},{type:3,x:2700,y:19600,size:29},{type:0,x:13e3,y:21e3,size:150},{type:1,x:11e3,y:2e4,size:45},{type:2,x:11300,y:19900,size:35},{type:2,x:12e3,y:20200,size:35},{type:2,x:12600,y:19900,size:35},{type:3,x:12800,y:19500,size:45},{type:0,x:3e4,y:21e3,size:275},{type:1,x:28e3,y:19900,size:55},{type:2,x:28300,y:19900,size:45},{type:2,x:28450,y:20200,size:45},{type:2,x:28600,y:19900,size:45},{type:3,x:28900,y:19900,size:55}]}},je=[11,19,23,24,37,36,31,29,40,41,16,15,21,35,12,25,42,28,32,22,18,26,30,39],He=0;try{for(let e of JSON.parse(localStorage.gameservers))e.isCurrent&&(He=e.id)}catch{}setTimeout((()=>{Ee=!0}),250);let Ge=unsafeWindow.setserver;function Xe(e){return We[He]&&We[He][e]?We[He][e]:We.default[e]}function Ke(e,t,s,i){if(!_e)return null;let n,a="#FFFFFF",o=0,r=0,l=null;switch(s){case 0:n="#622373",a="#4e1c5c",o=i||200,r=1;break;case 1:n="#ff0000",a="#cc0001",o=i||32,l={x:e,y:t,s:o,p:o},r=2;break;case 2:n="#76ff54",a="#66b319",o=i||35,r=3;break;case 3:n="#ffd000",a="#ccb300",o=i||32,l={x:e,y:t,s:o,p:o},r=4;break;case 4:n="#00a2e8",a="#0081b9",o=i||150,r=5;break;default:n="#FFFFFF",o=500}let c=new _e.constructor;return c[Ne[41]]=r,c[Ne[19]]=null,c[Ne[50]]=0,c[Ne[40]]=l?1:0,c[Ne[26]]=null,c[Ne[52]]=!1,c[Ne[53]]=!1,c[Ne[39]]=[],c[Ne[57]]=0,c[Ne[45]]=!1,c[Ne[37]]=!0,c[Ne[24]]=null,c[Ne[44]]=!1,c[Ne[56]]=!1,c[Ne[47]]=!1,c[Ne[25]]=null,c[Ne[35]]=Date.now(),c[Ne[51]]=0,c[Ne[42]]=null,c.clanCache=null,c.clanPart=null,c.color=n,c[Ne[46]]=9,c[Ne[38]]=l,c[Ne[33]]=1,c[Ne[36]]=0,c[Ne[31]]=e,c[Ne[32]]=t,c[Ne[3]]=0,c.id=1e9,c[Ne[21]]=null,c[Ne[20]]=null,c.massCache=null,c[Ne[11]]=o,c.nSize=o,c.name=null,c.namePart=null,c.nameSize=0,c.oid=0,c.ox=e,c.oy=t,c[Ne[58]]=0,c.rotation=0,c.shape=0,c.size=o,c.skinId=0,c.strokeSize=o+4,c.textDrawn=null,c.transform=null,c[Ne[18]]=!0,c[Ne[2]]=a||Ye(n),c[Ne[17]]=null,c.x=e,c[Ne[23]]=null,c.y=t,c[Ne[22]]=null,c[Ne[54]]=!1,c[Ne[34]]=Date.now(),c[Ne[55]]=!0,c}function Ve(e){_e=e.__proto__;let t=[],s=e;for(;s=Reflect.getPrototypeOf(s);){Reflect.ownKeys(s).forEach((e=>t.push(e)))}let i=t[7],n=e.__proto__[i];e.__proto__.oldDrawCell=n,e.__proto__[i]=function(){let e=this,t=e[Ne[46]];return 0==t&&("#622373"==e.color&&(e.color="#622374"),settings.theme_boxes[1].active&&(void 0===e.oOwnCell&&(e.oOwnCell=e[Ne[45]]),e[Ne[45]]=!0),settings.theme_boxes[6].active?(void 0===e.oSpiked&&(e.oSpiked=e[Ne[56]]),e[Ne[56]]=settings.theme_boxes[6].active):null!=e.oSpiked&&(e[Ne[56]]=e.oSpiked),settings.theme_boxes[2].active?(void 0===e.oHasImage&&(e.oHasImage=e[Ne[18]]),e[Ne[18]]=!!(void 0===e.oOwnCell?e[Ne[45]]:e.oOwnCell)&&e[Ne[18]]):null==e.oHasImage||settings.theme_boxes[3].active||(e[Ne[18]]=e.oHasImage),settings.theme_boxes[4].active?(void 0===e.oName&&(e.oName=e.name),e.name=(void 0===e.oOwnCell?e[Ne[45]]:e.oOwnCell)?e.name:""):null==e.oName||settings.theme_boxes[3].active||(e.name=e.oName),settings.theme_boxes[3].active?(void 0===e.oHasImage&&(e.oHasImage=e[Ne[18]]),e[Ne[18]]=!!e[Ne[53]]&&e[Ne[18]]):null==e.oHasImage||settings.theme_boxes[2].active||(e[Ne[18]]=e.oHasImage),settings.theme_boxes[5].active?(void 0===e.oName&&(e.oName=e.name),e.name=e[Ne[53]]?e.name:""):null==e.oName||settings.theme_boxes[4].active||(e.name=e.oName)),1==t&&("#00ff00"==e.color&&(e.color="#00ff01"),settings.theme[0].active?(e.oColor||(e.oColor=e.color),e.color=settings.theme[0].color):e.oColor&&(e.color=e.oColor)),n.apply(this,arguments)},De=!0}function Ye(e){var t=(~~(.5*parseInt(e.substr(1,2),16))).toString(16),s=(~~(.5*parseInt(e.substr(3,2),16))).toString(16),i=(~~(.5*parseInt(e.substr(5,2),16))).toString(16);return 1==t.length&&(t="0"+t),1==s.length&&(s="0"+s),1==i.length&&(i="0"+i),"#"+t+s+i}unsafeWindow.setserver=(t,s)=>{N=!1,He=parseInt(e(".server-tabmenu").find(".active")[0].id.slice(9)),Oe.portal=null,Re.portal=null,Ee=!0,Ge(t,s)};const Qe=Array.prototype.sort;Array.prototype.sort=function(e){const t=function(t,s){if("number"!=typeof t?.id||"number"!=typeof s?.id)return e.apply(this,arguments);if(settings.theme_boxes[8].active){const i=t[Object.keys(t)[46]],n=s[Object.keys(s)[46]];return(e.apply(this,arguments)*(settings.theme_boxes[7].active?-1:1)>0||4==i)&&4!=n?1:4==i&&4==n?0:-1}return settings.theme_boxes[7].active?-1*e.apply(this,arguments):e.apply(this,arguments)};return null==e?Qe.apply(this,arguments):Qe.call(this,t)};var Je=navigator.userAgent;function Ze(){GM_xmlhttpRequest({method:"GET",url:"https://translate.google.com/translate_a/element.js",onreadystatechange:function(e){var t,s;4==e.readyState&&(clearTimeout(setTimeout((function(){this.abort()}),2e3)),200==e.status&&(t=e.responseText,null!=(s=/c\._ctkk='(.+?)'/i.exec(t))&&GM_setValue("google_value_tk",s[1])))}})}const et=async(e,t="auto",s="auto")=>new Promise(((i,n)=>{var a,o=function(e){var t=GM_getValue("google_value_tk");"undefined"==t||null==t?(Ze(),t="427110.1469889687"):Number(t.split(".")[0])!==Math.floor(Date.now()/36e5)&&Ze();var s="&",i="",n="=",a="+-a^+6",o="a",r="+",l="+-3^+b+-f",c=".",d=function(e){return function(){return e}},p=function(e,t){for(var s=0;s<t.length-2;s+=3){let i=t.charAt(s+2);i=i>=o?i.charCodeAt(0)-87:Number(i),i=t.charAt(s+1)==r?e>>>i:e<<i,e=t.charAt(s)==r?e+i&4294967295:e^i}return e};return function(e){var o;if(null!==t)o=t;else{o=d(String.fromCharCode(84));var r=d(String.fromCharCode(75));(o=[o(),o()])[1]=r(),o=(t=unsafeWindow[o.join(r())]||i)||i}let f=d(String.fromCharCode(116));r=d(String.fromCharCode(107)),f=[f(),f()],f[1]=r(),r=s+f.join(i)+n,f=o.split(c),o=Number(f[0])||0;for(var h=[],u=0,g=0;g<e.length;g++){var y=e.charCodeAt(g);128>y?h[u++]=y:(2048>y?h[u++]=y>>6|192:(55296==(64512&y)&&g+1<e.length&&56320==(64512&e.charCodeAt(g+1))?(y=65536+((1023&y)<<10)+(1023&e.charCodeAt(++g)),h[u++]=y>>18|240,h[u++]=y>>12&63|128):h[u++]=y>>12|224,h[u++]=y>>6&63|128),h[u++]=63&y|128)}for(e=o||0,u=0;u<h.length;u++)e+=h[u],e=p(e,a);return e=p(e,l),0>(e^=Number(f[1])||0)&&(e=2147483648+(2147483647&e)),(e%=1e6).toString()+c+(e^o)}(e)}(e),r="https://translate.google.com/translate_a/single?client=t&hl=auto&sl="+t+"&tl="+s+"&dt=bd&dt=ex&dt=ld&dt=md&dt=qca&dt=rw&dt=rm&dt=ss&dt=t&dt=at&ie=UTF-8&oe=UTF-8&otf=2&trs=1&inputm=1&ssel=0&tsel=0&source=btn&kc=3&tk="+o+"&q="+encodeURI(e),l={"User-Agent":Je,Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Encoding":"gzip, deflate"},c=r.split("&q=");r=c[0],a="&q="+c[1],l["Content-Length"]=a.length+"",l["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",GM_xmlhttpRequest({method:"POST",url:r,data:a,headers:l,onload:function(e){try{!function(e){var t=JSON.parse(e),s="";for(let e=0;e<t[0].length;e++)void 0!==t[0][e][0]&&null!=t[0][e][0]&&(s+=t[0][e][0]);i(s)}(e.responseText)}catch(e){console.error(e),i(null)}}})}));let tt,st={};Array.prototype.push=function(){if(this?.length&&"boolean"==typeof this?.[0]?.approved&&"number"==typeof this?.[0]?.type&&void 0===this?.[0]?.zIndex&&!this?.[0]?.NOTREAL&&(tt=this),this?.length&&"number"==typeof this?.[0]?.id&&"string"==typeof this?.[0]?.color&&Ue){let e=this[this.length-1],[t]=arguments;if(Ne||(Ne=Object.keys(e),59==Ne.length&&"massCache"==Ne[28]||console.error("FSFB Scripts error, contact authors")),t.id===Xe("r1Id")?Oe.portal=t:t.id===Xe("r2Id")&&(Re.portal=t),!De&&Ve(e),Ee&&this[0][Ne[47]]&&settings.checkboxes[8].active){let e=!1;for(let t=0;t<this.length;t++)1e9==this[t].id&&(e=!0);if(!e)for(let e=0;e<Xe("entities").length;e++){let t=Xe("entities")[e];Ae.apply(this,[Ke(t.x,t.y,t.type,t.size)])}Ee=!1}}let e=Ae.apply(this,arguments);return this?.length&&"string"==typeof this?.[0]?.message&&"string"==typeof this?.[0]?.name&&(Ie=this,(async()=>{if(settings.chat_translate[0].active&&(settings.chat_translate[1].active||arguments[0][Object.keys(arguments[0])[0]])){let e=arguments[0]?.untranslated??arguments[0].message,t=st[settings.chat_translate[3].set+settings.chat_translate[4].set]?.[e]??await et(e,settings.chat_translate[3].set,settings.chat_translate[4].set);null!=t&&(st[settings.chat_translate[3].set+settings.chat_translate[4].set]={...st[settings.chat_translate[3].set+settings.chat_translate[4].set],[e]:t}),"untranslated"in arguments[0]&&arguments[0].translatedLang==settings.chat_translate[3].set+settings.chat_translate[4].set&&arguments[0].showingOrig==settings.chat_translate[2].active||!arguments[0]?.message||null==t||setTimeout((()=>{arguments[0].untranslated=e,arguments[0].translatedLang=settings.chat_translate[3].set+settings.chat_translate[4].set,arguments[0].showingOrig=settings.chat_translate[2].active,arguments[0].message=settings.chat_translate[2].active?e+" [ "+t+" ]":t,arguments[0].filter=!1,arguments[0].cache=null}),0)}else"untranslated"in arguments[0]&&arguments[0]?.untranslated!=arguments[0].message&&setTimeout((()=>{arguments[0].message=arguments[0]?.untranslated,arguments[0].translatedLang="none",arguments[0].filter=!1,arguments[0].cache=null}),0)})()),e},Array.prototype.splice=function(){if(Ue&&this.length&&"number"==typeof this[0].id&&"string"==typeof this[0].color){let e=this[arguments[0]];e==Oe.portal?Oe.portal=null:e==Re.portal&&(Re.portal=null)}return Le.apply(this,arguments)};const it=CanvasRenderingContext2D.prototype.fill,nt=e("#cDark")[0];CanvasRenderingContext2D.prototype.fill=function(){if(Ue&&"canvas"===this.canvas.id){let e=!0;if(.04==this.globalAlpha){switch(this.fillStyle){case"#ff0000":this.strokeStyle="#cc0001";break;case"#76ff54":this.strokeStyle="#66b319";break;case"#ffd000":this.strokeStyle="#ccb300";break;case"#00a2e8":this.strokeStyle="#0081b9";break;case"#622373":this.strokeStyle="#4e1c5c";break;default:e=!1}e&&(this.globalAlpha=.2,this.lineWidth=8,this.stroke(),this.globalAlpha=.1,this.shadowOffsetY=1)}!e&&.04==this.globalAlpha&&settings.checkboxes[2].active&&(this.strokeStyle=nt.checked?"#FFFFFF":"#000000",this.globalAlpha=1,this.lineWidth=30,this.stroke(),this.globalAlpha=.04),settings.theme_boxes[0].active&&"canvas"===this.canvas.id&&.4==this.globalAlpha&&(this.globalAlpha=.15),!settings.theme[1].active||"#00ff00"!=this.fillStyle&&"#19a0cc"!=this.fillStyle||(this.fillStyle=settings.theme[1].color),settings.theme[3].active&&"#cd5564"==this.fillStyle&&(this.fillStyle=settings.theme[3].color),whiteBorder4BlackCells&&"#000000"==this.fillStyle&&(this.strokeStyle="#FFFFFF",this.lineWidth=20,this.stroke())}return it.apply(this,arguments)};const at=CanvasRenderingContext2D.prototype.stroke,ot=e("#cBubbleCells")[0];CanvasRenderingContext2D.prototype.stroke=function(){if(Ue&&"canvas"===this.canvas.id){if(("#dddddd"==this.strokeStyle||"#333333"==this.strokeStyle||"#4e1c5b"==this.strokeStyle)&&(settings.checkboxes[2].active&&(this.strokeStyle=nt.checked?"#FFFFFF":"#000000"),1==this.shadowOffsetY))return void(this.shadowOffsetY=0);settings.theme_boxes[0].active&&4!=this.lineWidth&&ot.checked&&(this.lineWidth=15+Math.min(Math.max(Be-25,0),10)),!settings.theme[1].active&&!settings.theme[2].active||"#00ff00"!=this.strokeStyle&&"#00cc00"!=this.strokeStyle&&"#1480a3"!=this.strokeStyle&&"#1690b7"!=this.strokeStyle&&"#00e500"!=this.strokeStyle||(this.strokeStyle=settings.theme[2].active?settings.theme[2].color:settings.theme_boxes[0].active&&ot.checked?settings.theme[1].color:Ye(settings.theme[1].color)),!settings.theme[3].active&&!settings.theme[4].active||"#cd5564"!=this.strokeStyle&&"#a44450"!=this.strokeStyle&&"#b84c5a"!=this.strokeStyle||(this.strokeStyle=settings.theme[4].active?settings.theme[4].color:settings.theme_boxes[0].active&&ot.checked?settings.theme[3].color:Ye(settings.theme[3].color))}return at.apply(this,arguments)};let rt=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(){if(.01==this.globalAlpha&&arguments[0].src&&arguments[0].src.match(RegExp("https://agma\\.io/skins/objects/[1-5]"))&&(this.globalAlpha=.35),rt.apply(this,arguments),settings.checkboxes[7].active&&"canvas"==this.canvas.id&&/agma\.io\/skins\/objects\/1(_lo)?\.png/gm.test(arguments[0].src)&&(Oe.portal||Re.portal)&&-1==je.indexOf(He)){let e=e=>{e.portal.nSize*e.portal.nSize/100!=e.lastMass&&(e.lastMassChange=Date.now()),e.lastMass=e.portal.nSize*e.portal.nSize/100;let t=Date.now()-e.lastMassChange>200?~~((e.portal.nSize*e.portal.nSize/100-Xe("r"+e.room+"StartMass"))/Xe("ejPortalMass")).toString():e.lastValue;e.lastValue=t,(t>9||t<0)&&(t="?"),this.fillStyle="7"==t?"#FFCC12":"#FFFFFF",this.globalAlpha=1,this.font="72px Ubuntu, serif",this.fillText(t,e.portal.x-this.measureText(t).width/2,e.portal.y+20)};Oe.portal&&e(Oe),43!=He&&Re.portal&&e(Re)}};let lt=unsafeWindow.decodeURIComponent,ct=[2459122428,1967164722];function dt(e,t,s){let i,n,a;if(e/=360,s/=100,0===(t/=100))i=n=a=s;else{const o=(e,t,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e),r=s<.5?s*(1+t):s+t-s*t,l=2*s-r;i=o(l,r,e+1/3),n=o(l,r,e),a=o(l,r,e-1/3)}const o=e=>{const t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t};return`#${o(i)}${o(n)}${o(a)}`}unsafeWindow.decodeURIComponent=function(e){return""===e&&(e=ct[Math.round(Math.random())].toString()),lt(e)};const pt=CanvasRenderingContext2D.prototype.lineTo;CanvasRenderingContext2D.prototype.lineTo=function(){return settings.theme[5].active&&(this.strokeStyle=rainbowMapBorder?dt(~~(Date.now()/rainbowBorderSpeed)%360,100,50):settings.theme[5].color),pt.apply(this,arguments)};let ft,ht=0;const ut=CanvasRenderingContext2D.prototype.fillText;CanvasRenderingContext2D.prototype.fillText=function(){("#ffffff"==this.fillStyle||"#626262"==this.fillStyle)&&isNaN(arguments?.[0])&&/^Mass: \d+$/gm.test(arguments[0])&&(ht=+arguments[0].match(/(?<=^Mass: )\d+$/gm)[0],x&&(arguments[0]=" ")),"leaderboard"==this.canvas.id&&"#ffaaaa"==this.fillStyle&&/^\d+(?=\.\s)/gm.test(arguments[0])&&([ft]=arguments[0].match(/^\d+(?=\.\s)/gm)),ut.apply(this,arguments)};const gt=(e,t=300)=>{let s;return(...i)=>{clearTimeout(s),s=setTimeout((()=>{e.apply(this,i)}),t)}};let yt,mt=0,bt=Date.now();const vt=()=>{if(mt++,hoverShowSkinID&&e("#publicSkinsPage").children().length>0&&""==e("#publicSkinsPage").find('[id^="skinContainer"]>img')[0]?.title&&(e('[id^="skinContainer"]').each((function(){e(this).find("img").attr("title",e(this).attr("id").replace("skinContainer",""))})),e(".publicskins-nav-btn").on("click",(()=>{e('[id^="skinContainer"]').each((function(){e(this).find("img").attr("title",e(this).attr("id").replace("skinContainer",""))}))}))),sortWearablesByOwned&&e("#phpWearables>li").length&&!e("#fsfb-wearsloaded").length&&(e(e('[id^="wearableUseBtn"]').get().reverse()).each((function(){e(e(this).parents().get(2)).insertBefore(e("#phpWearables li:eq(0)"))})),e("#phpWearables").append('<div id="fsfb-wearsloaded"></div>')),publicSkinSearch&&e("#publicSkinsPage").children().length>0&&0==e("#fsfb-skinsearch").length){e(".publicskins-nav-bar").eq(0).after('<input id="fsfb-skinsearch" placeholder="Enter skin name/id here" type="text">');const t=gt((()=>{if(!e("#fsfb-skinsearch").val())return void e(".btn.publicskins-nav-btn.btn-default:not(.btn-primary)")[0].click();let t=[];for(let s of tt)if(4==s.type&&1==s.sharedPublic&&(s.name.toLowerCase().includes(e("#fsfb-skinsearch").val().toLowerCase())||s.id==+e("#fsfb-skinsearch").val())){let e=s;e.NOTREAL=!0,t.push(e)}let s=Math.ceil(t.length/4);if(0==s)e("#publicSkinsPage tbody").html("").append("<h1>No Skins Found</h1>");else{e("#publicSkinsPage tbody").html("");for(let t=0;t<s;t++)e("#publicSkinsPage tbody").append("<tr></tr>");let i=0,n=0;for(let s of t)++n>4&&(i++,n=1),e("#publicSkinsPage tr").eq(i).append(`<td id="skinContainer${s.id}" class="skin-container"><img src="skins/${s.id}_lo.png" alt="" ${hoverShowSkinID?'title="'+s.id+'"':""}><h4>${sanitize(s.name)}</h4><button id="skinUseBtn${s.id}" class="btn btn-primary skinuse-btn" onclick="toggleSkin(${s.id});">Use</button></td>`)}}),300);e("#fsfb-skinsearch").on("keydown",t)}yt=e("#userCoins2")[0].innerText;let t="Please Login First"==yt?null:misc_settings.abil?.[yt];if(null!=t&&showRemainingAbilityTime)for(let s in t){let i=e(`.purchase-btn.confirmation[item="${s}"]`).parents().eq(0).find("div h5"),n="none"!=e("#"+e(`.purchase-btn.confirmation[item="${s}"]`).parents().eq(0)[0].id+" img").eq(1).css("display");Date.now()-t[s]>864e5&&n?(i.eq(1).text("EXPIRED IF UNLOG"),i.eq(0).find("div h5").hide()):Date.now()-t[s]<864e5&&n?(i.eq(0).hide(),i.eq(1).text(msToTime(864e5-(Date.now()-t[s]))).show()):(i.eq(0).find("div h5").show(),i.eq(1).find("div h5").hide())}else e(".white_shopdesc").show(),e(".white_shopdesc.fsfb-fake").hide();if(null==ge[yt]&&"Please Login First"!==yt&&(ze(),Me(),ge={...ge,[yt]:{coins:de,xp:ce,lvl:round(re,3)+le}}),null!=ge[yt]&&0==ge[yt].coins&&(ge[yt].coins=de),null!=ge[yt]&&0==ge[yt].xp&&(ge[yt].xp=ce),coinXPstats&&mt%12==0&&setTimeout((()=>{ze(),pe.push(new $e(round(ce,3),round(re,3)+le,yt,pe));const t=pe[pe.length-1];t&&t.id%5==0&&fe.push(new $e(round(ce,3),round(re,3)+le,yt,fe)),pe.length>5&&pe.shift(),fe.length>60&&fe.shift(),ye||"block"!=e("#stats-container").css("display")||Pe(),unsafeWindow.logStatsScriptXP&&console.log(pe,fe)}),500),coinXPstats&&mt%6==0){Me(),be.push(new $e(de,0,yt,be));const t=be[be.length-1];t&&t.id%10==0&&ve.push(new $e(de,0,yt,ve)),be.length>10&&be.shift(),ve.length>60&&ve.shift(),ye&&"block"==e("#stats-container").css("display")&&Pe(),unsafeWindow.logStatsScriptCoins&&console.log(be,ve)}if(ye?e("#stats-sesh-length").text(msToTime(Date.now()-he)):e("#stats-sesh-length").text(msToTime(Date.now()-ue)),mt%3==0&&null!=misc_settings?.statsPos&&(xe={top:e("#stats-container")[0].style.top,left:e("#stats-container")[0].style.left},misc_settings.statsPos=xe,set("fsfb-misc",misc_settings)),mt%2==0&&null!=Ie&&Ie?.length>2)for(let t of Ie)if(""==t.name&&null!=t.cache&&"#ff8100"==t.cache.color2)if(t.message.match(/(?<=(Welcome back to Agma, )).+/g)?.[0]==yt){const s="GOLD MEMBER"==e(".memberType").text()?Ie?.[Ie.indexOf(t)-2]:Ie?.[Ie.indexOf(t)-1],i="GOLD MEMBER"==e(".memberType").text()?Ie?.[Ie.indexOf(t)-1]:null;s?.message.includes("Restart your bots before they expire!")?(null!=misc_settings.bots[yt]&&(misc_settings.bots[yt].chatAmt=s.message.match(/\d+.+\d Hours/g)[0]),se[yt]={...se[yt],amt:s.message.match(/\d+.+\d Hours/g)[0],started:!0},set("fsfb-misc",misc_settings)):s?.message.match(/(?<=(You have a new bot pack available: )).+(?=(! Start your bots in the minion panel.))/g)?.length&&(null!=misc_settings.bots[yt]&&(misc_settings.bots[yt].chatAmt=s.message.match(/\d+.+\d Hours/g)[0]),se[yt]={...se[yt],amt:s.message.match(/\d+.+\d Hours/g)[0],started:!1},set("fsfb-misc",misc_settings)),null!=i&&i.message.match(/(?<=You have )\d+(?= Days left of Gold Member!)/gm)?.length?ie[yt]={...ie[yt],days:i.message.match(/(?<=You have )\d+(?= Days left of Gold Member!)/gm)[0],has:!0}:ie[yt]={...ie[yt],has:!1}}else t.message.match(/(?<=(You have a new bot pack available: )).+(?=(! Start your bots in the minion panel.))/g)?.length&&(null!=misc_settings.bots[yt]&&(misc_settings.bots[yt].chatAmt=t.message.match(/\d+.+\d Hours/g)[0]),se[yt]={...se[yt],amt:t.message.match(/\d+.+\d Hours/g)[0],started:!1},set("fsfb-misc",misc_settings));if(0===He)try{for(let e of JSON.parse(localStorage.gameservers))e.isCurrent&&(He=e.id);Ee=!0}catch{}"Please Login First"!=yt&&0!=e("#level").text()||(bt=Date.now()),changeTitle(settings.checkboxes[4].active?"Please Login First"==yt?"Agma.io":"Agma.io - "+yt:"Agma.io - A free multiplayer MMO game"),e("#friendAcceptAll").length>0&&friendDeclineAll&&e("#friendRejectAll").length<1&&"Please Login First"!=yt&&Te(),"Login to see your friendlist"!=e("#friendDialogMessage").text()&&"Loading..."==e("#friendDialogMessage").text()&&""==e("#friendsRequestsAmt").text()&&friendDeclineAll&&"Please Login First"!=yt&&(e("#btnFriends")[0].click(),e("#btnFriends")[0].click()),qe.push(+document.getElementById("fps").innerText),6==qe.length&&qe.shift(),Be=mean(qe),setTimeout(vt,1e3)};setTimeout(vt,1e3),showXPdecimals&&(e(".progress-bar span").each((function(){e(this).hide().clone().insertAfter(e(this)).addClass("fsfb-fakePerc").removeClass("sr-only exp-bar").show()})),setInterval((()=>{let t=e(".progress-bar[role=progressbar]")[0].style.width.slice(0,-1)/100;e(".fsfb-fakePerc").text(t&&"0%"!=e(".sr-only.exp-bar")[0].textContent?round(100*t,2)+"%":"0%")}),250));const kt=()=>{setTimeout(kt,3e4),e("#fsfb-antiAFK").is(":checked")&&(k?e("#canvas").trigger(e.Event("mousemove",{clientX:O.x+1,clientY:O.y})).trigger(e.Event("mousemove",{clientX:O.x-1,clientY:O.y})):e("#canvas").trigger(e.Event("mousemove",{clientX:P+1,clientY:F})).trigger(e.Event("mousemove",{clientX:P-1,clientY:F})))};setTimeout(kt,3e4);const xt=()=>{for(let t of settings.checkboxes)e("#"+t.id).prop("checked",t.active).trigger("change");for(let t of settings.hotkeys)e("#"+t.id).text(getName(t.key));for(let t of settings.fastsplit_hotkeys)e("#"+t.id).text(getName(t.key));for(let t of settings.quickSettings)e("#"+t.id1).val(t.set),e("#"+t.id).text(getName(t.key));e("#"+settings.slowFeed[0].id).text(getName(settings.slowFeed[0].key)),e("#"+settings.slowFeed[1].id).val(settings.slowFeed[1].val);for(let t of settings.fastsplit_hotkeys)null==t.val?e("#"+t.id).text(getName(t.key)):e("#"+t.id).val(t.val);for(let t of settings.uiScaling)e("#"+t.id).val(t.level).trigger("change");for(let t of settings.export_import)e("#"+t.id).prop("checked",t.active).trigger("change");for(let t of settings.theme)e("#"+t.id).prop("checked",t.active).trigger("change"),e("#"+t.id1).val(t.color).trigger("change");for(let t of settings.theme_boxes)e("#"+t.id).prop("checked",t.active).trigger("change");for(let t of settings.chat_translate)"set"in t?e("#"+t.id).val(t.set):e("#"+t.id).prop("checked",t.active).trigger("change")};setTimeout((()=>xt()),1e3),e("body").append('<div id="fsfb-css-styles"><style id="hideUI-css" type="text/css"></style><style id="stats-input-css" type="text/css">#stats-table input{ display: none; }</style></div>');const wt=(e,t)=>{document.getElementById(e).innerHTML=t};e("body").append(`<div class="fade fsfb-bug-modal modal"aria-hidden=true role=dialog tabindex=-1><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-interior><h2 class=fsfb-modal-title>Script Documentation</h2><button class="close fsfb-btn"data-dismiss=modal type=button></button><section class=fsfb-modal-body><div><span>Chat Copy/Cut/Paste</span>- allows you to use the commands in chat (e.g. Ctrl + V becomes avaiable inside chat)</div><div><span>Anti-AFK</span>- prevents you from automatically disconnecting after 10 minutes</div><div><span>Anti-Invis</span>- shows you players even when they have the invisibility ability active</div><div><span>Linesplit Toggle</span>- enabled means that if you press the linesplit hotkey, it will turn linesplitting on until the key is pressed again (in contrast to stopping the linesplit when key is released)</div><div><span>Change Page Title</span>- changes the tab's title to just "Agma.io" with the current username</div><div><span>Hide Shouts</span>- prevent megaphone shouts from showing up at all</div><div><span>Hold To Spam</span>- while the powerup's hotkey is held, it will continuously use the powerup</div><div><span>Show Portal Mass</span>- displays the predicted amount of times the portals in rooms 1 & 2 have been fed by players (not 100% accurate & doesn't work at all servers)</div><div><span>Power Spawns Overlay</span>- show the locations of where powerups/minion packs spawn with lower opacity (thanks to Light for helping with getting all of the power locations)</div><div><span>Quick Buy</span>- click plus sign (+) next to your powers (only if you set it to true in the code), then click on the powerup you want to buy</div><div><span>Food/Virus/Mothercell Color</span>- changes the color that's filling these to a custom one</div><div><span>Virus/Mothercell Stroke</span>- changes the color of the stroke (border/outline) to a custom one</div><div><span>Spiked Cells</span>- render all cells with the spikes from the infecton gamemode</div><div><span>Show Mass</span>- show the mass of all players' cells</div><div><span>Only My Skin</span>- hide all skins besides the one you're using</div><div><span>Only Party Skin</span>- hide all skins besides the ones people in your party are using</div><div><span>Only My Nick</span>- hide all nicks besides the one you're using</div><div><span>Only Party Nick</span>- hide all nicks besides the ones people in your party are using</div><div><span>Shoot 7 Ejected</span>- press ejected mass hotkey 7 times (useful to prime room 1 or 2 portal when it's been reset</div><div><span>Linesplit Lock</span>- finds which direction your mouse is the closest to & puts mouse way off the map (towards that direction) so you can perform perfect linesplits without zooming out or precisely placing your mouse (feature and design inspired by<a href=https://greasyfork.org/en/scripts/404559-agma-io-linesplit-overlay target=_blank>Wynell's script</a>)</div><div><span>Macrosplit Bots</span>- hold this key to macrosplit your bots without switching controls off of yourself</div><div><span>Hide UI</span>- press this key to toggle showing the game UI (intended for recording/screenshots)</div><div><span>Toggle Slow Feed</span>- (toggle) this presses eject mass hotkey at the defined interval (intended for feeding the gold block while AFK)</div><div><span>Slow Feed Speed</span>- the speed at which eject mass is pressed when slow-feeding</div><div><span>Quick Settings</span>- when the hotkey assigned is pressed, it will toggle the setting that is selected</div><div><span>Toggle Cursor Lock</span>- when pressed, this will keep cursor lock active until you press it again (also works when the tab is unfocused)</div><div><span>Fast Onesplit</span>- performs a fast onesplit (Onesplit -> Freeze -> Unfreeze); speed is dependent fps (low fps indicates slow CPU, slow CPU can mess timings up)</div><div><span>Fast Doublesplit</span>- performs a fast Doublesplit (Doublesplit -> Freeze -> Unfreeze); speed is dependent fps (low fps indicates slow CPU, slow CPU can mess timings up)</div><div><span>Chat Size</span>- make the size of chat bigger/smaller</div><div><span>Inventory Size</span>- make the size of powerups inventory bigger/smaller</div><div><span>Statsbox Size</span>- make the size of XP/coins stats bigger/smaller</div><div><span>Export</span>- select the boxes of the settings you wish to export and press the button, a .txt file will be downloaded with your settings inside</div><div><span>Import</span>- select the boxes of the settings you wish to import and insert the exported settings into the input (note: settings will only be changed if they were selected in both export & import</div><table><tr><th>Chat Command<th>Description<tr><td class=fsfb-cmd-title>${chatPrefix}help<td>list all available chat commands<tr><td class=fsfb-cmd-title>${chatPrefix}bots<td>show which bot pack you have active and how much time is remaining<tr><td class=fsfb-cmd-title>${chatPrefix}pws<td>show the amount of powerups in your inventory (recommended to use ${chatPrefix}pws1, ${chatPrefix}pws2, and ${chatPrefix}pws3)<tr><td class=fsfb-cmd-title>${chatPrefix}totalpws<td>show the total amount of powerups you have in your inventory<tr><td class=fsfb-cmd-title>${chatPrefix}xp<td>show then amount of xp you've completed for this level<tr><td class=fsfb-cmd-title>${chatPrefix}lvl<td>show your level and how much of the level you've completed<tr><td class=fsfb-cmd-title>${chatPrefix}coins<td>show the amount of coins you have<tr><td class=fsfb-cmd-title>${chatPrefix}hours<td>show the hours you have on your account</tr><td class=fsfb-cmd-title>${chatPrefix}rank<td>show your ranking</td><tr><td class=fsfb-cmd-title>${chatPrefix}ping<td>show your current ping<tr><td class=fsfb-cmd-title>${chatPrefix}fps<td>show your current FPS<tr><td class=fsfb-cmd-title>${chatPrefix}topmass<td>show your highest mass<tr><td class=fsfb-cmd-title>${chatPrefix}cells<td>show your cell count<tr><td class=fsfb-cmd-title>${chatPrefix}pws1<td>show the first part of your powerup inventory<tr><td class=fsfb-cmd-title>${chatPrefix}pws2<td>show the second part of your powerup inventory<tr><td class=fsfb-cmd-title>${chatPrefix}pws3<td>show the third part of your powerup inventory<tr><td class=fsfb-cmd-title>${chatPrefix}friends<td>show how many friends you have and how many are online<tr><td class=fsfb-cmd-title>${chatPrefix}requests<td>show how many friend requests you have<tr><td class=fsfb-cmd-title>${chatPrefix}gold<td>show how many days of gold member you have left remaining<tr><td class=fsfb-cmd-title>${chatPrefix}alive<td>show the amount of time you've been alive<tr><td class=fsfb-cmd-title>${chatPrefix}mass<td>show your current mass<tr><td class=fsfb-cmd-title>${chatPrefix}user<td>show your current username<tr><td class=fsfb-cmd-title>${chatPrefix}customs<td>show the amount of custom skins you own<tr><td class=fsfb-cmd-title>${chatPrefix}wearables<td>show how many wearables you own<tr><td class=fsfb-cmd-title>${chatPrefix}cloak<td>show the remaining time of your cloak ability<tr><td class=fsfb-cmd-title>${chatPrefix}add [user]<td>type this command to quickly add a friend using chat<tr><td class=fsfb-cmd-title>${chatPrefix}partymembers<td>show how many people are in your party<tr><td class=fsfb-cmd-title>${chatPrefix}players<td>show how many players are online in your server and are online in all agma servers<tr><td class=fsfb-cmd-title>${chatPrefix}server<td>show which server you're currently in<tr><td class=fsfb-cmd-title>${chatPrefix}abils<td>show your currently active abilities<tr><td class=fsfb-cmd-title>${chatPrefix}xpproj<td>show the predicted amount of XP you will gain in an hour<tr><td class=fsfb-cmd-title>${chatPrefix}coinsproj<td>show the predicted amount of coins you will gain in an hour<tr><td class=fsfb-cmd-title>${chatPrefix}xprem<td>show the amount of XP remaining for your level<tr><td class=fsfb-cmd-title>${chatPrefix}xphour<td>show the amount of xp you've gained in the last hour<tr><td class=fsfb-cmd-title>${chatPrefix}coinshour<td>show the amount of coins you've gained in the last hour<tr><td class=fsfb-cmd-title>${chatPrefix}xpmin<td>show the amount of XP you've gained in the last minute<tr><td class=fsfb-cmd-title>${chatPrefix}coinsmin<td>show the amount of coins you've gained in the last minute<tr><td class=fsfb-cmd-title>${chatPrefix}xp12s<td>show the amount of coins you've gained in the last 12 seconds<tr><td class=fsfb-cmd-title>${chatPrefix}xpsesh<td>show the amount of XP you've gained in this session<tr><td class=fsfb-cmd-title>${chatPrefix}lifetimexp<td>show the total amount of XP you've earned in your account's lifetime<tr><td class=fsfb-cmd-title>${chatPrefix}seshcoins<td>show the amount of coins you've gained in this session<tr><td class=fsfb-cmd-title>${chatPrefix}waifu [user]<td>rate the waifu of the selected username (leave user blank to rate yourself)<tr><td class=fsfb-cmd-title>${chatPrefix}pro [user]<td>show how pro someone is (leave user blank to rate yourself)<tr><td class=fsfb-cmd-title>${chatPrefix}dog [user]<td>show how dog someone is (leave user blank to rate yourself)<tr><td class=fsfb-cmd-title>${chatPrefix}king [user]<td>show how king someone is (leave user blank to rate yourself)<tr><td class=fsfb-cmd-title>${chatPrefix}dice [sides]<td>roll a die with the desired number of sides<tr><td class=fsfb-cmd-title>${chatPrefix}rng [min] [max]<td>generate a random number in a range<tr><td class=fsfb-cmd-title>${chatPrefix}coinflip<td>flip a coin and see if it lands on heads or tails<tr><td class=fsfb-cmd-title>${chatPrefix}script<td>show the current script you're using & which version<tr><td class=fsfb-cmd-title>${chatPrefix}time<td>show your current date & time<tr><td class=fsfb-cmd-title>${chatPrefix}skins<td>show your bought skins and their worth (limited as well)<tr><td class=fsfb-cmd-title>${chatPrefix}ratefriends [user1] [user2]<td>show how what percent friends two usernames are<tr><td class=fsfb-cmd-title>${chatPrefix}rateenemies [user1] [user2]<td>show how what percent enemies two usernames are<tr><td class=fsfb-cmd-title>${chatPrefix}leaderboard<td>show your leaderboard position</table><div><span>Hide Ads</span>- both video and image ads will be removed from the screen</div><div><span>Skin Search</span>- search through skins by their names/ids</div><div><span>Improved Shop</span>- added larger amounts that can be purchased at a time, can also buy a specified amount at one time</div><div><span>Sort Wearables</span>- wearables are automatically sorted by owned (the ones you own will be before all others)</div><div><span>Extra Bot Packs</span>- added hidden bot packs that can be purchased with coins (originally discovered by firebone)</div><div><span>Context Menu Copy Info</span>- right click on a player, then click on their cell icon to copy their skin ID to clipboard or click on their name to copy their nickname to clipboard</div><div><span>Copy Chat</span>- right click on screen, then click "Copy Chat Messages" to copy the currently visible chat messages to your clipboard</div><div><span>Abilities Remaining Time</span>- shows the remaining time left of abilities (only works if the abilities were purchased in the same browser)</div><div><span>Unlock Free Skins</span>- gives you access to the facebook & youtube free skins</div><div><span>Hover For Skin ID</span>- hovering skins in the skin menu will shop their ID</div><div><span>In Depth XP/Coins Stats</span>- click on coins/xp progress bar in top left to view respective statistics</div><div><span>XP Bar Decimals</span>- show the percentage up to 2 decimal places</div><div><span>White Border For Black Cells</span>- show a white border around black cells (from minion nuker) so they're easier to see with dark backgrounds</div><div><span>Inventory Single Row</span>- put powerups inventory on a single row instead of on 2 seperate rows (inspired by Principito)</div><div><span>Custom Backgrounds</span>- a few <a href=https://imgur.com/a/sTANNBE target=_blank>backgrounds</a></div></section></div></div></div></div>`);const St=document.createElement("style");St.innerHTML=`a.fsfb-curser-anchor{ color: #8CEFFF; } a.fsfb-curser-anchor:hover{ opacity: 70%; } select.fsfb-changelang{ background: #a8a8a833; border-radius: 3px; border: none; height: 20px; color: #ffffffad; margin: 2px 0 0 0; } select.fsfb-changelang:focus-visible{ outline: none; } select.fsfb-changelang option{ background: #222; } #fsfb-wearsloaded{ display: none; width: 0; height: 0; } #fsfb-skinsearch{ border: 1px solid #2e6da4; background-color: #222328; font-size: 17px; border-radius: 4px; width: 100%; padding: 4px 4px 4px 8px; margin: 4px 0; color: white; } #stats-table td{ font-size: 17px; } #stats-table label{ padding-right: 10px; margin: 0 6px 0 2px; } #stats-table input{ transform: scale(1.8); margin: 5px 8px 5px 5px; } #friendRejectAll{ color: #ff4000 !important; } ${inventorySingleRow&&" #inventory{ display: flex; position: absolute; left: 50%; bottom: 8px; transform: translateX(-50%); } .fsfb-inventories { position: initial !important; transform: initial !important; }"} div.fsfb-slider{ display: flex; align-items: center; } input[type="range"].fsfb-slider{ width: 58px; display: inline; position: absolute; right: 5px; } #fsfb-minionNuker img{ margin-top: 2px; } .fsfb-shown{ display: block !important; } .fsfb-hidden{ display: none !important; } #fsfb-quickbuy{ justify-content: center; align-items: center; } #fsfb-quickbuy-img{ height: 80%; } .fsfb-bug-modal>div>div{ -webkit-box-shadow: 0 5px 15px rgb(0 0 0 / 50%); background: linear-gradient(to bottom,#3b414e 0,#302f33 100%); border: 3px solid #232630; } .close.fsfb-btn{ position: absolute; right: 10px; top: 3px; font-size: 60px; } .fsfb-modal-body>div{ color: ffffffb0; margin: 10px 20px; } .fsfb-modal-body>table{ width: 90%; margin: 10px 20px; } .fsfb-cmd-title{ color: white; white-space: nowrap; padding-right: 12px !important; } .fsfb-modal-body>table th{ color: white; } .fsfb-modal-body>table td{ padding: 4px 0; } .fsfb-modal-body>div>span{ color: white; } .fsfb-modal-body{ margin: 10px 10px; font-size: 20px; max-height: 600px; overflow-y: auto; } .fsfb-modal-title{ text-align: center; color: white; } .fsfb-hotkey{ background-color: #df901c; color: #fff; cursor: pointer; text-align: center; min-width: 40px; max-width: 60px; height: 18px; line-height: 18px; vertical-align: middle; border-radius: 9px; right: 5px; position: absolute; display: inline-block; padding: 0 5px; overflow: hidden; opacity: 1; } .fsfb-modal-body::-webkit-scrollbar-thumb { background-color: #57595b; border: 1px solid black; border-radius: 12px; } .fsfb-modal-body::-webkit-scrollbar { border: 1px solid black; background-color: #2523239e; width: 15px; border-radius: 12px; } .fsfb-modal-body::-webkit-scrollbar-track { -webkit-box-shadow: inset 0px 0px 2px 2px rgba(0, 0, 0, 0.75); box-shadow: inset 0px 0px 2px 2px rgba(0, 0, 0, 0.75); border-radius: 12px; } .fsfb-hotkey:hover { background-color: #f1a02d; } .fsfb-hotkey.selected{ background-color: #ff4; color: #444; } #fsfb-settings-main p{ margin: 0; display: inline-block; margin-left: 4px; } #fsfb-settings-main{ display: -ms-grid; display: grid; -ms-grid-columns: 50% 50%; grid-template-columns: 50% 50%; } #settingPage4::-webkit-scrollbar-thumb { background-color: #ff9800c2; border-radius: 12px; border: 1px #000000c2 solid; } #settingPage4::-webkit-scrollbar { border: 1px solid #00000085; background-color: #2523239e; width: 9px; border-radius: 12px; } #settingPage4{ display: none; max-height: 660px; overflow-x: hidden; } .padbot10{ padding-bottom: 10px; } #fsfb-slowfeedtimer, #fsfb-secdelay, #fsfb-firstdelay{ border: none; width: 40px; } select.fsfb-quickchange{ background: none; border: none; height: 20px; } select.fsfb-quickchange:focus-visible{ outline: none; } select.fsfb-quickchange option{ background: #222; } .fsfb-sect-ch label{ display: flex; align-items: center; } .fsfb-sect-ch label input{ margin: 0 2px 0 0; } #fsfb-sect-theme label input[type="color"]{ width: 14px; height: 14px; opacity: 0; border: none; background-color: white; margin: 0; cursor: pointer; } #fsfb-sect-theme label p{ min-width: 120px; margin-left: 5px; } #fsfb-sect-theme label div{ border-radius: 4px; border: 1px solid #ffffff29; } #fsfb-ximport-cont{ display: flex; justify-content: space-around; margin-top: 7px; } .fsfb-eximport{ background-color: #df901c; color: white; padding: 5px 17px; border-radius: 25px; cursor: pointer; } .hideMegaphone{ display: none !important; } .fsfb-fake{ padding: 0 0 0 43px; color: #cbff4e !important; } #fsfb-extra-info{ margin: 10% 0 0 90%; cursor: pointer; } #linesplit-markers div { background-color: transparent; height: 15px; aspect-ratio: 1; position: fixed; z-index: 999; border: 2px solid rgb(255 255 255 / 80%); border-radius: 50%; display: none; } #linesplit-top { top: -7.5px; transform: translateX(-50%); left: 50%; } #stats-container{ background: rgba(0,0,0,.5); top: 200px; position: absolute; border: 1px white solid; border-radius: 12px; color:white; left:30px; } #stats-main{ padding: 10px; } #stats-extra-info{ color: #00bbff; font-size: 15px; margin-bottom: 2px; display: block; } #stats-info div{ display:flex; } #stats-info div p{ margin: 0; } .stats-completed{ margin: 9px 5px 0; font-size: 12px; bottom: 0; color: rgb(255, 255, 255, .8); } #stats-title{ display: flex; align-items: center; justify-content: space-between; } #stats-title>div{ font-size: 15px; margin-left: 8px; cursor: pointer; } #stats-title>div>div{ padding: 0 5px; } #linesplit-right { right: -7.5px; transform: translateY(-50%); top: 50%; } #linesplit-bottom { bottom: -7.5px; transform: translateX(-50%); left: 50%; } #linesplit-left { left: -7.5px; transform: translateY(-50%); top: 50%; } .fuckAds{ transform: translateX(9999%) !important; } `,document.querySelector("body").append(St);const Ct=document.createElement("script");Ct.innerHTML="\n    function onlyNumberKey(e) {\n        const key = e.which ? e.which : e.keyCode;\n        return !(key > 31 && (key < 48 || key > 57));\n    }\n    ",document.querySelector("body").append(Ct),unsafeWindow.fsfbScriptsLoaded=!0};unsafeWindow.fsfbScriptsLoaded||unsafeWindow.fsfbEvListenerAdded?alert("It appears fsfb scripts is already loaded. It's recommended to use only one script at a time."):"complete"===document.readyState||"interactive"===document.readyState?setTimeout(afterLoaded,0):(document.addEventListener("DOMContentLoaded",afterLoaded),unsafeWindow.fsfbEvListenerAdded=!0);
